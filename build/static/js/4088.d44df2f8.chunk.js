"use strict";(self.webpackChunkcosting=self.webpackChunkcosting||[]).push([[4088,1057],{23118:function(e,t,n){n.d(t,{Z:function(){return k}});var a=n(1413),r=n(70885),o=n(4942),s=n(72791),l={tableBody:"table_tableBody__NaJhZ"},c=n(89743),i=n(2677),d=n(89983),u=(n(77632),n(79836)),p=n(53382),h=n(68745),m=n(90618),f=n(39281),x=n(65136),g=n(35855),Z=n(35527),v=n(56890),b=n(40724),y=n(80184),j=function(e){var t=e.value,n=e.onChange;return(0,y.jsx)("input",{type:"text",placeholder:"Search...",value:t,onChange:function(e){return n(e.target.value)}})},S=(0,b.ZP)(h.Z)((function(e){var t,n=e.theme;return t={},(0,o.Z)(t,"&.".concat(m.Z.head),{backgroundColor:"rgb(0, 92, 185);",color:n.palette.common.white,border:"1px solid #B1BFC3"}),(0,o.Z)(t,"&.".concat(m.Z.body),{fontSize:16,backgroundColor:"#f2f2f2",border:"1px solid #B1BFC3"}),t})),C=(0,b.ZP)(g.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover,borderBottom:"1px solid #B1BFC3"},"&:last-child td, &:last-child th":(0,o.Z)({border:0},"border","1px solid #B1BFC3")}})),P=function(e){var t=e.cols,n=e.data,o=e.rows,h=(e.loadDataonPageChange,e.counts,e.className),m=e.includeCheck,b=e.checkBoxEvent,P=e.value,k=e.onChange,N=e.styles,w=s.useState(0),_=(0,r.Z)(w,2),F=_[0],I=_[1],B=s.useState(o||10),M=(0,r.Z)(B,2),D=M[0],E=M[1],H=s.useState(o<10?[5,10,25,50,100]:[10,25,50,100]),A=(0,r.Z)(H,2),q=A[0],Q=(A[1],F>0&&Math.max(0,(1+F)*D-n.length),"undefined"===typeof N?{}:N),R="center";return(0,y.jsx)(d.Pd.Provider,{value:{color:"#6495ED"},children:(0,y.jsx)(c.Z,{className:"".concat(l.tableContainer," ").concat(h),style:(0,a.Z)((0,a.Z)({},null===Q||void 0===Q?void 0:Q.tablehead),null!==Q&&void 0!==Q&&Q.tablehead?{}:{background:"transparent"}),children:(0,y.jsx)(Z.Z,{className:l.tableContainer,children:(0,y.jsxs)(f.Z,{className:l.tableStyles,children:[(0,y.jsxs)(c.Z,{className:"justify-content-center align-items-center",style:{backgroundColor:"white",padding:"0 10px 0 10px"},children:[void 0!==P&&k&&(0,y.jsx)(i.Z,{children:(0,y.jsx)(j,{value:P,onChange:k})}),(0,y.jsx)(i.Z,{children:o&&(0,y.jsx)(x.Z,{sx:{padding:"0px",margin:"0px",".MuiTablePagination-selectLabel":{margin:"0px"},".MuiTablePagination-displayedRows":{margin:"0px"}},rowsPerPageOptions:q,component:"div",count:n.length,rowsPerPage:D,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},page:F,onPageChange:function(e,t){I(t)},onRowsPerPageChange:function(e){E(+e.target.value),I(0)},className:l.pagination})})]}),(0,y.jsxs)("div",{style:(0,a.Z)((0,a.Z)({},null===Q||void 0===Q?void 0:Q.table),null!==Q&&void 0!==Q&&Q.table?{}:{background:"transparent"}),className:l.tableBody,children:[(0,y.jsxs)(u.Z,{stickyHeader:!0,className:"table table-bordered table-striped ".concat(l.table),children:[(0,y.jsxs)(v.Z,{children:["                ",(0,y.jsxs)(g.Z,{children:[m&&(0,y.jsx)(S,{align:R,children:(0,y.jsx)("input",{type:"checkbox"})}),(0,y.jsx)(S,{align:R,children:"S.No"}),t.map((function(e,t){return(0,y.jsx)(S,{align:R,children:e.title},t)}))]})]}),n&&(0,y.jsx)(p.Z,{children:n.slice(F*D,F*D+D).map((function(e,n){return(0,y.jsxs)(C,{children:[m&&(0,y.jsx)(S,{align:R,children:(0,y.jsx)("input",{type:"checkbox",onClick:function(t){b(e,t.target.checked)}})}),(0,y.jsx)(S,{children:F*D+n+1}),t.map((function(t,n){return(0,y.jsx)(S,{align:t.align,className:t.hover&&l.hoverclass,children:t.render(e)},n)}))]},n++)}))})]})," "]})]})})})})};P.defaultProps={bordered:!0,hoverable:!1,striped:!1,isDark:!1};var k=P},46844:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(1413),r=(n(72791),n(38595),n(2144)),o=n(89743),s=n(2677),l=n(43360),c="SearchCard_card__Dzf+K",i="SearchCard_cardHeader__QVtAN",d="SearchCard_cardBody__Yd43+",u="SearchCard_addButton__iMTZ7",p=n(80184);var h=function(e,t){var n="undefined"===typeof e.styles?{}:e.styles;return(0,p.jsxs)(r.Z,{className:c,style:(0,a.Z)((0,a.Z)({},n.search),n.search?{}:{background:"transparent"}),children:[(0,p.jsx)(r.Z.Header,{className:i,children:(0,p.jsxs)(o.Z,{children:[(0,p.jsx)(s.Z,{xs:12,md:e.bottonShow?{span:12}:{span:5,offset:3},className:"d-flex justify-content-center",children:(0,p.jsx)("h4",{children:e.title})}),(0,p.jsx)(s.Z,{xs:12,md:4,className:"d-flex justify-content-end",children:!e.bottonShow&&(0,p.jsx)(l.Z,{variant:"primary",className:u,onClick:e.onHeaderClick,children:e.buttonName})})]})}),(0,p.jsx)(r.Z.Body,{className:d,children:e.children})]})}},64088:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var a=n(1413),r=n(42982),o=n(74165),s=n(15861),l=n(70885),c=n(72791),i=n(60057),d=n(46844),u=(n(78431),{container:"orders_container__w1+p4"}),p=n(79747),h=n(89743),m=n(2677),f=n(43360),x=n(80184),g=function(e,t){return[{title:"Material Name",align:"center",render:function(e){return(0,x.jsx)("span",{children:e.poItems.itemName})}},{title:"PO No",align:"center",render:function(e){return(0,x.jsx)("span",{children:e.poItems.poNo})}},{title:"Po Quantity",align:"center",render:function(e){return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("span",{children:e.poItems.poQty})})}},{title:"Aceppted Qty",align:"center",render:function(e){return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("span",{children:[" ",e.acceptedQty]})})}},{title:"Status",align:"center",render:function(e){return(0,x.jsxs)(x.Fragment,{children:["  ",(0,x.jsx)("span",{children:e.grnStatus})]})}}]},Z=n(99355),v=n(21229);var b=function(e){var t=(0,v.ZP)({data:[]}),n=t.get,a=(t.post,t.response),d=(t.loading,t.error,(0,c.useState)(e.selectedItem.deliveries?e.selectedItem.deliveries:[])),u=(0,l.Z)(d,2),p=u[0],h=(u[1],(0,c.useState)(e.selectedItem?e.selectedItem.quantity:1)),m=(0,l.Z)(h,2),f=(m[0],m[1]),g=(0,c.useState)([{value:"",label:"Select"}]),b=(0,l.Z)(g,2),y=b[0],j=b[1],S=(0,c.useCallback)((0,s.Z)((0,o.Z)().mark((function e(){var t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(Z.ZP+"/product/loadOptions");case 2:t=e.sent,j([].concat((0,r.Z)(y),(0,r.Z)(t)));case 4:case"end":return e.stop()}}),e)}))),[n,a]);return(0,c.useEffect)((function(){S()}),[]),(0,x.jsx)(i.Z,{template:{heading:"Purchase Request Entry",fields:[{title:"Req Number",type:"text",name:"orderNo",contains:"text",inpprops:{}},{title:"Req Date",type:"date",name:"OrderDate",contains:"date",validationProps:"Internal Part No is required",inpprops:{format:"dd/mm/yyyy"}},{title:"Depatment",type:"select",name:"Department",validationProps:"Please select Shift",contains:"Select",options:[{value:"",label:"Select"},{value:"Shift_A",label:"Administration"},{value:"Shift_B",label:"Production"},{value:"Shift_C",label:"Quality"},{value:"Shift_C",label:"Stores"}]},{title:"Purpose",type:"textarea",name:"remarks",contains:"textarea",inpprops:{maxlength:128,md:4}}]},rowwise:3,watchFields:["quantity"],validate:function(e,t){t.errors,t.setError,t.clearErrors,e[0]>0&&(console.log(e[0]),f(e[0]))},onSubmit:function(t){t.deliveries=p,e.saveFunction(t),console.log(t)},onCancel:e.onCancel,buttonName:"Submit",defaultValues:e.selectedItem})},y=n(23118),j=n(59434),S=n(34476),C=n(4349),P={fields:[{title:"Product Name",type:"text",name:"tensile",contains:"text",inpprops:{minlength:0,maxlength:30}},{title:"Customer Name",type:"text",name:"tensile",contains:"text",inpprops:{minlength:0,maxlength:30}},{title:"Internal Part No",type:"text",name:"tensile",contains:"text",inpprops:{minlength:0,maxlength:30}},{title:"Product Category",type:"select",name:"outsouredTo",contains:"Select",options:[{value:"",label:"Select"},{value:1,label:"Category 1"},{value:2,label:"Category 2"}]}]};var k=function(e){var t=(0,c.useState)(),n=(0,l.Z)(t,2),k=n[0],_=n[1],F=(0,v.ZP)({data:[]}),I=F.get,B=F.post,M=F.response,D=(F.loading,F.error,(0,c.useState)(Math.random())),E=(0,l.Z)(D,2),H=E[0],A=(E[1],(0,c.useState)([])),q=(0,l.Z)(A,2),Q=q[0],R=q[1],T=(0,c.useState)(0),O=(0,l.Z)(T,2),V=(O[0],O[1],(0,j.v9)((function(e){return[e.alertProps.showAlert,e.alertProps.alertMessage,e.alertProps.alertVariant]}))),U=(0,l.Z)(V,3),z=U[0],Y=(U[1],U[2],(0,j.v9)((function(e){return[e.modalProps.showModal,e.modalProps.selectedForm,e.modalProps.selectedData]}))),G=(0,l.Z)(Y,3),J=(G[0],G[1],G[2],(0,j.I0)()),K=function(e,t){J(C.I.showAlertHandler({showAlert:!z,alertMessage:e,alertVariant:t}))},L=(0,c.useCallback)((0,s.Z)((0,o.Z)().mark((function e(){var t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(Z.ZP+"/grnEntry/inwardEntrys");case 2:t=e.sent,M.ok&&_(t);case 4:case"end":return e.stop()}}),e)}))),[I,M,H]);(0,c.useEffect)((function(){L()}),[L]);var W=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(Z.ZP+"/product/create",t);case 2:n=e.sent,M.ok?t.productId?(_(k.map((function(e){return e.productId===t.productId?t:e}))),J(S.n.hideModalHandler()),K("Product Updated Successfully","success")):(_([].concat((0,r.Z)(k),[n])),J(S.n.hideModalHandler()),K("Product Created Succesfully","success")):(J(S.n.hideModalHandler()),K("Product Details Failed To Save","danger"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(e,t){return function(){"updateStock"==t?(console.log(Q),K("Stock Updated Successfully","success")):"edit"===t?(console.log((0,a.Z)({},e)),J(S.n.showModalHandler({selectedData:(0,a.Z)({},e),selectedForm:(0,x.jsx)(b,{onCancel:function(){return J(S.n.hideModalHandler())},selectedItem:e,saveFunction:W}),showModal:!0}))):"approvalForm"==t&&J(S.n.showModalHandler({selectedData:(0,a.Z)({},e),selectedForm:(0,x.jsx)(x.Fragment,{}),showModal:!0}))}};return(0,x.jsxs)("div",{className:u.container,children:[(0,x.jsx)(d.Z,{title:"GRN Items Search",buttonName:"Add",onHeaderClick:X({},"productForm"),bottonShow:!0,children:(0,x.jsx)(i.Z,{template:P,rowwise:4,validate:w,onSubmit:N,onCancel:e.onCancel,buttonName:"Search"})}),(0,x.jsxs)(p.Z,{md:12,children:[(0,x.jsx)(h.Z,{children:(0,x.jsx)(m.Z,{md:3,children:(0,x.jsx)(f.Z,{className:u.btn,onClick:X({},"updateStock"),children:"Update Stock"})})}),(0,x.jsx)(y.Z,{cols:g(X,["edit","productForm","approvalForm","materialForm"]),data:k,includeCheck:1,striped:!0,checkBoxEvent:function(e,t){t?(R((function(t){return[].concat((0,r.Z)(t),[e])})),console.log(Q)):(R(Q.filter((function(t){return t.grnId!==e.grnId}))),console.log(Q))}})]})]})};function N(e){console.log(e)}function w(e,t){var n=t.errors,a=t.setError,r=t.clearErrors;"Admin"===e.firstname?n.firstname||a("firstname",{type:"manual",message:"You cannot use this first name"}):n.firstname&&"manual"===n.firstname.type&&r("firstname")}}}]);
//# sourceMappingURL=4088.d44df2f8.chunk.js.map