"use strict";(self.webpackChunkcosting=self.webpackChunkcosting||[]).push([[733],{21216:function(e,t){t.Z={colors:{dg:"#fafafa",dgc:"#f0f0f0",primary:"#007bff",secondary:"#6c757d",cardbody:"#E8F7F2",yllw:"yellow",simcard:"#170462",blk:"black",ttle:"#170462"},margins:{mg0:"0",mg1:"1rem",mg:".5rem .5rem 0 .5rem",mgt:".2rem .0rem"},paddings:{pd0:"0,",pd1:"1rem",pd:"0 1rem 0 1rem",pdc:"0 1.5rem"}}},23118:function(e,t,n){n.d(t,{Z:function(){return C}});var r=n(1413),a=n(70885),l=n(4942),s=n(72791),o={tableBody:"table_tableBody__NaJhZ"},i=n(89743),c=n(2677),u=n(89983),d=(n(77632),n(79836)),m=n(53382),p=n(68745),f=n(90618),h=n(39281),y=n(65136),g=n(35855),Z=n(35527),v=n(56890),x=n(40724),b=n(80184),S=function(e){var t=e.value,n=e.onChange;return(0,b.jsx)("input",{type:"text",placeholder:"Search...",value:t,onChange:function(e){return n(e.target.value)}})},j=(0,x.ZP)(p.Z)((function(e){var t,n=e.theme;return t={},(0,l.Z)(t,"&.".concat(f.Z.head),{backgroundColor:"rgb(0, 92, 185);",color:n.palette.common.white,border:"1px solid #B1BFC3"}),(0,l.Z)(t,"&.".concat(f.Z.body),{fontSize:16,backgroundColor:"#f2f2f2",border:"1px solid #B1BFC3"}),t})),F=(0,x.ZP)(g.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover,borderBottom:"1px solid #B1BFC3"},"&:last-child td, &:last-child th":(0,l.Z)({border:0},"border","1px solid #B1BFC3")}})),I=function(e){var t=e.cols,n=e.data,l=e.rows,p=(e.loadDataonPageChange,e.counts,e.className),f=e.includeCheck,x=e.checkBoxEvent,I=e.value,C=e.onChange,w=e.styles,k=s.useState(0),E=(0,a.Z)(k,2),_=E[0],P=E[1],N=s.useState(l||10),M=(0,a.Z)(N,2),V=M[0],A=M[1],D=s.useState(l<10?[5,10,25,50,100]:[10,25,50,100]),Q=(0,a.Z)(D,2),R=Q[0],H=(Q[1],_>0&&Math.max(0,(1+_)*V-n.length),"undefined"===typeof w?{}:w),B="center";return(0,b.jsx)(u.Pd.Provider,{value:{color:"#6495ED"},children:(0,b.jsx)(i.Z,{className:"".concat(o.tableContainer," ").concat(p),style:(0,r.Z)((0,r.Z)({},null===H||void 0===H?void 0:H.tablehead),null!==H&&void 0!==H&&H.tablehead?{}:{background:"transparent"}),children:(0,b.jsx)(Z.Z,{className:o.tableContainer,children:(0,b.jsxs)(h.Z,{className:o.tableStyles,children:[(0,b.jsxs)(i.Z,{className:"justify-content-center align-items-center",style:{backgroundColor:"white",padding:"0 10px 0 10px"},children:[void 0!==I&&C&&(0,b.jsx)(c.Z,{children:(0,b.jsx)(S,{value:I,onChange:C})}),(0,b.jsx)(c.Z,{children:l&&(0,b.jsx)(y.Z,{sx:{padding:"0px",margin:"0px",".MuiTablePagination-selectLabel":{margin:"0px"},".MuiTablePagination-displayedRows":{margin:"0px"}},rowsPerPageOptions:R,component:"div",count:n.length,rowsPerPage:V,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},page:_,onPageChange:function(e,t){P(t)},onRowsPerPageChange:function(e){A(+e.target.value),P(0)},className:o.pagination})})]}),(0,b.jsxs)("div",{style:(0,r.Z)((0,r.Z)({},null===H||void 0===H?void 0:H.table),null!==H&&void 0!==H&&H.table?{}:{background:"transparent"}),className:o.tableBody,children:[(0,b.jsxs)(d.Z,{stickyHeader:!0,className:"table table-bordered table-striped ".concat(o.table),children:[(0,b.jsxs)(v.Z,{children:["                ",(0,b.jsxs)(g.Z,{children:[f&&(0,b.jsx)(j,{align:B,children:(0,b.jsx)("input",{type:"checkbox"})}),(0,b.jsx)(j,{align:B,children:"S.No"}),t.map((function(e,t){return(0,b.jsx)(j,{align:B,children:e.title},t)}))]})]}),n&&(0,b.jsx)(m.Z,{children:n.slice(_*V,_*V+V).map((function(e,n){return(0,b.jsxs)(F,{children:[f&&(0,b.jsx)(j,{align:B,children:(0,b.jsx)("input",{type:"checkbox",onClick:function(t){x(e,t.target.checked)}})}),(0,b.jsx)(j,{children:_*V+n+1}),t.map((function(t,n){return(0,b.jsx)(j,{align:t.align,className:t.hover&&o.hoverclass,children:t.render(e)},n)}))]},n++)}))})]})," "]})]})})})})};I.defaultProps={bordered:!0,hoverable:!1,striped:!1,isDark:!1};var C=I},46844:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(1413),a=(n(72791),n(38595),n(2144)),l=n(89743),s=n(2677),o=n(43360),i="SearchCard_card__Dzf+K",c="SearchCard_cardHeader__QVtAN",u="SearchCard_cardBody__Yd43+",d="SearchCard_addButton__iMTZ7",m=n(80184);var p=function(e,t){var n="undefined"===typeof e.styles?{}:e.styles;return(0,m.jsxs)(a.Z,{className:i,style:(0,r.Z)((0,r.Z)({},n.search),n.search?{}:{background:"transparent"}),children:[(0,m.jsx)(a.Z.Header,{className:c,children:(0,m.jsxs)(l.Z,{children:[(0,m.jsx)(s.Z,{xs:12,md:e.bottonShow?{span:12}:{span:5,offset:3},className:"d-flex justify-content-center",children:(0,m.jsx)("h4",{children:e.title})}),(0,m.jsx)(s.Z,{xs:12,md:4,className:"d-flex justify-content-end",children:!e.bottonShow&&(0,m.jsx)(o.Z,{variant:"primary",className:d,onClick:e.onHeaderClick,children:e.buttonName})})]})}),(0,m.jsx)(a.Z.Body,{className:u,children:e.children})]})}},95733:function(e,t,n){n.r(t),n.d(t,{default:function(){return fe}});var r=n(42982),a=n(1413),l=n(74165),s=n(15861),o=n(70885),i=n(72791),c=n(60057),u=n(46844),d=(n(78431),n(23853)),m=n(80184),p=function(e){return[{title:"Melt Date",align:"Center",render:function(e){return(0,m.jsx)("span",{children:e.MeltingDate})}},{title:"Shift",align:"Center",render:function(e){return(0,m.jsx)("span",{children:e.shift})}},{title:"Melt No",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.heatNo})}},{title:"Furnance",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.furnace})}},{title:"Alloy Grade(Weight kgs)",align:"left",render:function(e){return(0,m.jsx)("span",{children:"".concat(e.material.materialName," (").concat(e.materialWeight,")")})}},{title:"Runner(kgs)",align:"center",render:function(e){return(0,m.jsx)("span",{children:"".concat(e.runnerWeight)})}},{title:"Total Weight",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.materialWeight+e.runnerWeight})}},{title:"Edit",align:"center",render:function(t){return(0,m.jsx)(d.vPQ,{style:{cursor:"pointer"},onClick:e(t,"edit")})}},{title:"Holding",align:"center",render:function(t){return(0,m.jsx)(d.vPQ,{style:{cursor:"pointer"},onClick:e(t,"Holding")})}}]},f="productionentry_container__HpKpG",h=n(23118),y=n(79747),g=n(2144),Z=n(89743),v=n(2677),x="dailyentry_title__INpwA",b=n(21229),S=n(99355),j=n(4349),F=n(59434),I=n(21216),C={upper:{padding:"0 1rem 0 1rem"}};function w(e,t){var n=t.errors,r=t.setError,a=t.clearErrors;"Admin"===e.firstname?n.firstname||r("firstname",{type:"manual",message:"You cannot use this first name"}):n.firstname&&"manual"===n.firstname.type&&a("firstname")}var k=function(e){var t=(0,i.useState)(""),n=(0,o.Z)(t,2),u=n[0],d=n[1],p=(0,i.useState)([]),f=(0,o.Z)(p,2),h=f[0],y=f[1],j=(0,i.useState)(),k=(0,o.Z)(j,2),E=k[0],_=(k[1],(0,i.useState)(e.selectedItem)),P=(0,o.Z)(_,2),N=P[0],M=(P[1],(0,F.I0)(),(0,b.ZP)({data:[]})),V=M.get,A=M.post,D=M.response,Q=(M.loading,M.error,(0,i.useState)({material:[{value:"",label:"Select"}]})),R=(0,o.Z)(Q,2),H=(R[0],R[1],(0,i.useState)(Math.random())),B=(0,o.Z)(H,2),W=B[0],Y=B[1],q=(0,F.v9)((function(e){return[e.alertProps.showAlert,e.alertProps.alertMessage,e.alertProps.alertVariant]})),G=(0,o.Z)(q,3),T=(G[0],G[1],G[2],(0,i.useCallback)((0,s.Z)((0,l.Z)().mark((function e(){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(S.ZP+"/meltEntry/meltEntrys",{id:1,loadState:Date().toLocaleString()});case 2:t=e.sent,D.ok&&y(t);case 4:case"end":return e.stop()}}),e)}))),[V,D]));(0,i.useEffect)((function(){T()}),[W]);var L=(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(g.Z,{body:!0,className:x,style:{backgroundColor:I.Z.colors.ttle},children:(0,m.jsx)(Z.Z,{children:(0,m.jsxs)(v.Z,{md:{span:6,offset:3},children:[" ",(0,m.jsx)("h4",{children:"Melting Inward Details"})," "]})})})}),O={fields:[{title:"Melt Date",type:"date",name:"MeltingDate",contains:"date",validationProps:"Date is Required",inpprops:{format:"dd/mm/yy"}},{title:"Shift",type:"select",name:"shift",validationProps:"Please select Shift",contains:"Select",options:[{value:"Select",label:"Select"},{value:"Shift_1",label:"Shift 1"},{value:"Shift_2",label:"Shift 2"},{value:"Shift_3",label:"Shift 3"}]},{title:"Holding Process",type:"select",name:"holdingStatus",validationProps:"Please select Holding Status",contains:"Select",options:[{value:"Yes",label:"Yes"},{value:"No",label:"No"}]},{title:"Alloy",type:"select",name:"materialId",contains:"Select",options:e.materials},{title:"Alloy Wgt",type:"number",name:"materialWeight",contains:"number",inpprops:{min:0}},{title:"Runner Wgt",type:"number",name:"runnerWeight",contains:"number",inpprops:{min:0}},{title:"Furnance",type:"select",name:"furnace",contains:"Select",options:[{value:"",label:"Select"},{value:"Furnance_A",label:"Furnace A"},{value:"Furnance_B",label:"Furnace B"},{value:"Furnance_C",label:"Furnace C"},{value:"Furnance_D",label:"Furnace D"},{value:"Furnance_E",label:"Furnace E"},{value:"Furnance_F",label:"Furnace F"},{value:"Furnance_J",label:"Furnace J"},{value:"Furnance_K",label:"Furnace K"},{value:"Furnance_L",label:"Furnace L"},{value:"Furnance_M",label:"Furnace M"},{value:"Furnance_N",label:"Furnace N"},{value:"Furnance_O",label:"Furnace O"},{value:"Furnance_P",label:"Furnace P"}]},{title:"Batch No(Heat Code)",type:"text",name:"heatNo",contains:"text",inpprops:{min:3,max:50}},{title:"Alloy Batch No",type:"text",name:"alloyBatch",contains:"text",inpprops:{min:3,max:50}},{type:"hidden",name:"meltingEntryId",contains:"text",value:E}]},K=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(t){var n,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),t.meltingEntryId,n="/meltEntry/create",console.log(n),e.next=5,A(S.ZP+n,t);case 5:a=e.sent,console.log(a),1==a.retValues.status?a.retValues.meltEntry.meltingEntryId?(y(h.map((function(e){return e.meltingEntryId===a.retValues.meltEntry.meltingEntryId?a.retValues.meltEntry:e}))),Y(Math.random()),d(a.retValues.message)):a.retValues.meltEntry.meltEntryId>0&&(y([a.retValues.meltEntry].concat((0,r.Z)(h))),d(a.retValues.message),Y(Math.random())):(d(a.retValues.message),Y(Math.random()));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)(m.Fragment,{children:[L,(0,m.jsx)(c.Z,{template:O,rowwise:3,validate:w,onSubmit:function(e){d(""),K(e)},onCancel:e.onCancel,buttonName:"Save",defaultValues:N,styles:C}),""==u?(0,m.jsx)(m.Fragment,{}):(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",(0,a.Z)((0,a.Z)({},e),{},{style:(0,a.Z)({position:"absolute",backgroundColor:"rgba(255, 100, 100, 0.85)",padding:"2px 10px",color:"white",borderRadius:3},e.style),children:u}))})]})};var E=n(34476);var _={botton:"dailyentry_botton__eKgSM",monthlyform:"dailyentry_monthlyform__ziDkc",title:"dailyentry_title__8dfaf",shRow:"dailyentry_shRow__1A3Ns",shCol:"dailyentry_shCol__GUZDt",tableCon:"dailyentry_tableCon__nL87Y",formCon:"dailyentry_formCon__gVN2l",btn:"dailyentry_btn__ewfb0",buttCon:"dailyentry_buttCon__YS954",modal:"dailyentry_modal__7X8op"},P=n(95316),N=n(39126),M=function(e,t,n){return[{title:"Process Name",align:"left",render:function(e){return(0,m.jsx)("span",{children:e.process.processName})}},{title:"Production Entry",align:"center",render:function(t){return(0,m.jsxs)(m.Fragment,{children:[" ","Quality"===t.process.proSubCat?"NA":(0,m.jsx)(N.GuI,{style:{cursor:"pointer"},onClick:e(t)})]})}},{title:"Inspection Entry",align:"center",render:function(n){return(0,m.jsx)(N.GuI,{style:{cursor:"pointer"},onClick:e(n,t[0])})}},{title:"Rework Entry",align:"center",render:function(n){return(0,m.jsx)(m.Fragment,{children:"Quality"===n.process.proSubCat?"NA":(0,m.jsx)(N.GuI,{style:{cursor:"pointer"},onClick:e(n,t[1])})})}}].filter((function(e,t){return-1==n.indexOf(t)}))},V=function(e){return[{title:"Entry Date",align:"Center",render:function(e){return(0,m.jsx)("span",{children:e.entryDate})}},{title:"Shift",align:"Center",render:function(e){return(0,m.jsx)("span",{children:e.shift})}},{title:"Quantity",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.quantity})}},{title:"Edit",align:"center",render:function(t){return(0,m.jsx)(d.vPQ,{style:{cursor:"pointer"},onClick:e(t,"edit")})}}]};function A(e,t){var n=t.errors,r=t.setError,a=t.clearErrors;"Admin"===e.firstname?n.firstname||r("firstname",{type:"manual",message:"You cannot use this first name"}):n.firstname&&"manual"===n.firstname.type&&a("firstname")}var D=function(e){var t=(0,F.I0)(),n=(0,i.useState)({}),r=(0,o.Z)(n,2),u=(r[0],r[1],(0,i.useState)({stock:0,produced:0})),d=(0,o.Z)(u,2),p=d[0],f=d[1],x=(0,i.useState)(Math.random()),I=(0,o.Z)(x,2),C=I[0],w=I[1],k=(0,F.v9)((function(e){return[e.alertProps.showAlert,e.alertProps.alertMessage,e.alertProps.alertVariant]})),E=(0,o.Z)(k,3),P=E[0],N=(E[1],E[2],(0,b.ZP)({data:[]})),M=(N.get,N.post),D=N.response,Q=(N.loading,N.error,(0,i.useState)()),R=(0,o.Z)(Q,2),H=R[0],B=R[1],W=(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(g.Z,{body:!0,className:_.title,children:(0,m.jsxs)(Z.Z,{children:[(0,m.jsxs)(v.Z,{style:{backgroundColor:"grey",justifyContent:"left",borderRadius:"5%"},md:2,children:["Available Qty ",(0,m.jsx)("br",{})," ",p.stock]}),(0,m.jsxs)(v.Z,{md:{span:6,offset:1},children:[" ",(0,m.jsxs)("h4",{children:["".concat(e.selectedItem.process.processName," -")," ",e.productName]})," "]}),(0,m.jsxs)(v.Z,{style:{backgroundColor:"grey",justifyContent:"right",borderRadius:"5%"},md:{span:2,offset:1},children:["Produced Qty",(0,m.jsx)("br",{})," ",p.produced]})]})})}),Y=(0,i.useCallback)((0,s.Z)((0,l.Z)().mark((function t(){var n;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(S.ZP+"/productionEntry/latestEntry",{orderId:e.orderId,prodProcMapId:e.selectedItem.prodProcMapId,loadState:C});case 2:n=t.sent,console.log(n),D.ok&&(n.retValues.latestEntries&&B([n.retValues.latestEntries]),f((function(e){return(0,a.Z)((0,a.Z)({},e),{},{stock:n.retValues.prodStock.stockQuantity?n.retValues.prodStock.stockQuantity:0,produced:n.retValues.prodStock.producedQuantity?n.retValues.prodStock.producedQuantity:0})})));case 5:case"end":return t.stop()}}),t)}))),[M,D,C]);(0,i.useEffect)((function(){Y()}),[C]);var q=function(e,n){t(j.I.showAlertHandler({showAlert:!P,alertMessage:e,alertVariant:n}))},G=function(){var t=(0,s.Z)((0,l.Z)().mark((function t(n){var r,a;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.entryId?"/productionEntry/update":"/productionEntry/create",console.log(r),t.next=4,M(S.ZP+r,n);case 4:a=t.sent,console.log(a),1==a.retValues.status?(n.entryId||a.retValues.prodEntry.entryId>0)&&(B((function(e){return[a.retValues.prodEntry]})),q(a.retValues.message,"success"),w(Math.random()),e.loadStateController()):(q(a.retValues.message,"danger"),Y());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T={fields:[{title:"Date",type:"date",name:"entryDate",contains:"date",validation:"Date is Required",inpprops:{format:"dd/mm/yy"}},{title:"Shift",type:"select",name:"shift",validationProps:"Please select Shift",contains:"Select",options:[{value:"",label:"Select"},{value:"Shift_A",label:"Shift A"},{value:"Shift_B",label:"Shift B"},{value:"Shift_C",label:"Shift C"}]},{title:"Production Qty",type:"number",name:"quantity",contains:"number",inpprops:{min:1,step:1,max:p.stock}},{type:"hidden",name:"orderId",contains:"number",value:e.orderId},{type:"hidden",name:"prodProcMapId",contains:"number",value:e.selectedItem.prodProcMapId}]},L=(0,i.useState)(),O=(0,o.Z)(L,2),K=O[0],J=O[1];return(0,m.jsxs)(m.Fragment,{children:[W,(0,m.jsx)(c.Z,{template:T,rowwise:3,validate:A,onSubmit:function(e){G(e)},onCancel:e.onCancel,buttonName:"Add",defaultValues:K}),(0,m.jsx)(y.Z,{children:(0,m.jsx)(h.Z,{cols:V((function(e,t){return function(){"edit"===t&&J(e)}})),data:H})})]})},Q=function(e){return[{title:"Entry Date",align:"Center",render:function(e){return(0,m.jsx)("span",{children:e.entryDate})}},{title:"Shift",align:"Center",render:function(e){return(0,m.jsx)("span",{children:e.shift})}},{title:"Heat No",align:"left",render:function(e){return(0,m.jsx)("span",{children:e.heatNo})}},{title:"SerielNo From",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.serielNofrom})}},{title:"SerielNo To",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.serielNoTo})}},{title:"Quantity",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.quantity})}},{title:"Edit",align:"center",render:function(t){return(0,m.jsx)(d.vPQ,{style:{cursor:"pointer"},onClick:e(t,"edit")})}}]};var R=function(e){var t=(0,F.I0)(),n=(0,i.useState)({}),r=(0,o.Z)(n,2),u=(r[0],r[1],(0,F.v9)((function(e){return[e.alertProps.showAlert,e.alertProps.alertMessage,e.alertProps.alertVariant]}))),d=(0,o.Z)(u,3),p=d[0],f=(d[1],d[2],(0,b.ZP)({data:[]})),x=(f.get,f.post),I=f.response,C=(f.loading,f.error,(0,i.useState)({stock:0,produced:0})),w=(0,o.Z)(C,2),k=w[0],E=w[1],P=(0,i.useState)("Not Available"),N=(0,o.Z)(P,2),M=N[0],V=N[1],A=(0,i.useState)(),D=(0,o.Z)(A,2),R=D[0],H=D[1],B=(0,i.useState)(Math.random()),W=(0,o.Z)(B,2),Y=W[0],q=W[1],G=(0,i.useState)(e.orderQty),T=(0,o.Z)(G,2),L=T[0],O=T[1],K=(0,i.useCallback)((0,s.Z)((0,l.Z)().mark((function t(){var n;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(S.ZP+"/castingEntry/latestEntry",{orderId:e.orderId,prodProcMapId:e.selectedItem.prodProcMapId,loadStateid:Y});case 2:n=t.sent,console.log((0,a.Z)({},n)),I.ok&&n.retValues.latestEntries&&H([n.retValues.latestEntries]),console.log(n.retValues.prodStock.producedQuantity),E((function(e){return(0,a.Z)((0,a.Z)({},e),{},{stock:n.retValues.prodStock.stockQuantity?n.retValues.prodStock.producedQuantity:0,produced:n.retValues.prodStock.producedQuantity?n.retValues.prodStock.producedQuantity:0})})),O(L);case 8:case"end":return t.stop()}}),t)}))),[x,I,Y]);(0,i.useEffect)((function(){K()}),[K]);var J=function(e,n){t(j.I.showAlertHandler({showAlert:!p,alertMessage:e,alertVariant:n}))},z=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(t){var n,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.entryId?"/castingEntry/update":"/castingEntry/create",console.log(n),e.next=4,x(S.ZP+n,t);case 4:r=e.sent,console.log(r),1==r.retValues.status?(t.meltingEntryId||r.retValues.prodEntry.entryId>0)&&(H((function(e){return[r.retValues.prodEntry]})),J(r.retValues.message,"success"),q(Math.random()),console.log(Y)):J(r.retValues.message,"danger");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=(0,i.useState)(),X=(0,o.Z)(U,2),$=X[0],ee=X[1],te=(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(g.Z,{body:!0,className:_.title,children:(0,m.jsxs)(Z.Z,{children:[(0,m.jsxs)(v.Z,{md:{span:6,offset:3},children:[" ",(0,m.jsxs)("h4",{children:["Casting Entry - ",e.productName]})," "]}),(0,m.jsxs)(v.Z,{style:{backgroundColor:"grey",justifyContent:"right",borderRadius:"5%"},md:{span:2,offset:1},children:["Produced Qty",(0,m.jsx)("br",{})," ",k.produced]})]})})}),ne={fields:[{title:"Date",type:"date",name:"entryDate",contains:"date",validation:"Date is Required",inpprops:{format:"dd/mm/yy"}},{title:"Shift",type:"select",name:"shift",validationProps:"Please select Shift",contains:"Select",options:[{value:"",label:"Select"},{value:"Shift_A",label:"Shift A"},{value:"Shift_B",label:"Shift B"},{value:"Shift_C",label:"Shift C"}]},{title:"Furnance",type:"select",name:"furnace",contains:"Select",options:[{value:"",label:"Select"},{value:"Furnance_1",label:"Furnace 1"},{value:"Furnance_2",label:"Furnace 2"},{value:"Furnance_3",label:"Furnace 3"},{value:"Furnance_4",label:"Furnace 4"},{value:"Furnance_5",label:"Furnace 5"}]},{title:"Heat No",type:"disabled",name:"heatNo",contains:"text",value:M},{title:"Production Qty",type:"number",name:"quantity",contains:"number",inpprops:{min:1,step:1,max:L-k.produced}},{title:"Serial No From",type:"text",name:"serielNofrom",contains:"text",inpprops:{min:3,max:50}},{title:"Serial No To",type:"text",name:"serielNoTo",contains:"text",inpprops:{min:3,max:50}},{type:"hidden",name:"orderId",contains:"number",value:e.orderId},{type:"hidden",name:"prodProcMapId",contains:"number",value:e.selectedItem.prodProcMapId}]};return(0,m.jsxs)(m.Fragment,{children:[te,(0,m.jsx)(c.Z,{template:ne,watchFields:["furnace"],rowwise:3,validate:function(e,t){var n;t.errors,t.setError,t.clearErrors;""!==e[0]&&(n=e[0],(0,s.Z)((0,l.Z)().mark((function e(){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n),!n){e.next=6;break}return e.next=4,x(S.ZP+"/meltEntry/getHeatNo",{furnace:n});case 4:t=e.sent,I.ok?V(t):V("Not Available");case 6:case"end":return e.stop()}}),e)}))))()},onSubmit:function(e){console.log(e),z(e)},onCancel:e.onCancel,buttonName:"Add",defaultValues:$}),(0,m.jsx)(y.Z,{children:(0,m.jsx)(h.Z,{cols:Q((function(e,t){return function(){"edit"===t&&ee((0,a.Z)({},e))}})),data:R})})]})},H=function(e){return[{title:"Melt Date",align:"Center",render:function(e){return(0,m.jsx)("span",{children:e.MeltingDate})}},{title:"Shift",align:"Center",render:function(e){return(0,m.jsx)("span",{children:e.shift})}},{title:"Melt No",align:"left",render:function(e){return(0,m.jsx)("span",{children:e.heatNo})}},{title:"Furnance",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.furnace})}},{title:"Alloy Grade(Weight kgs)",align:"center",render:function(e){return(0,m.jsx)("span",{children:"".concat(e.material.materialName," (").concat(e.materialWeight,")")})}},{title:"Runner(kgs)",align:"center",render:function(e){return(0,m.jsx)("span",{children:"".concat(e.runnerWeight)})}},{title:"Total Weight",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.materialWeight+e.runnerWeight})}},{title:"Edit",align:"center",render:function(t){return(0,m.jsx)(d.vPQ,{style:{cursor:"pointer"},onClick:e(t,"edit")})}}]};function B(e,t){var n=t.errors,r=t.setError,a=t.clearErrors;"Admin"===e.firstname?n.firstname||r("firstname",{type:"manual",message:"You cannot use this first name"}):n.firstname&&"manual"===n.firstname.type&&a("firstname")}var W=function(e){var t=(0,i.useState)([]),n=(0,o.Z)(t,2),u=n[0],d=n[1],p=(0,i.useState)(),f=(0,o.Z)(p,2),x=f[0],I=(f[1],(0,i.useState)()),C=(0,o.Z)(I,2),w=C[0],k=C[1],E=(0,F.I0)(),P=(0,b.ZP)({data:[]}),N=P.get,M=P.post,V=P.response,A=(P.loading,P.error,(0,i.useState)({material:[{value:"",label:"Select"}]})),D=(0,o.Z)(A,2),Q=D[0],R=D[1],W=(0,i.useState)(Math.random()),Y=(0,o.Z)(W,2),q=Y[0],G=Y[1],T=(0,F.v9)((function(e){return[e.alertProps.showAlert,e.alertProps.alertMessage,e.alertProps.alertVariant]})),L=(0,o.Z)(T,3),O=L[0],K=(L[1],L[2],(0,i.useCallback)((0,s.Z)((0,l.Z)().mark((function e(){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(S.ZP+"/material/loadOptions");case 2:t=e.sent,R((0,a.Z)((0,a.Z)({},Q),{},{material:[].concat((0,r.Z)(Q.material),(0,r.Z)(t))}));case 4:case"end":return e.stop()}}),e)}))),[N,V])),J=(0,i.useCallback)((0,s.Z)((0,l.Z)().mark((function e(){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(S.ZP+"/meltEntry/meltEntrys",{id:1,loadState:Date().toLocaleString()});case 2:t=e.sent,V.ok&&d(t);case 4:case"end":return e.stop()}}),e)}))),[N,V]),z=function(e,t){E(j.I.showAlertHandler({showAlert:!O,alertMessage:e,alertVariant:t}))};(0,i.useEffect)((function(){K(),J()}),[q]);var U=(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(g.Z,{body:!0,className:_.title,children:(0,m.jsx)(Z.Z,{children:(0,m.jsxs)(v.Z,{md:{span:6,offset:3},children:[" ",(0,m.jsx)("h4",{children:"Melting Inward Details"})," "]})})})}),X={fields:[{title:"Melt Date",type:"date",name:"MeltingDate",contains:"date",validationProps:"Date is Required",inpprops:{format:"dd/mm/yy"}},{title:"Shift",type:"select",name:"shift",validationProps:"Please select Shift",contains:"Select",options:[{value:"",label:"Select"},{value:"Shift_1",label:"Shift 1"},{value:"Shift_2",label:"Shift 2"},{value:"Shift_3",label:"Shift 3"}]},{title:"Holding Status",type:"select",name:"holdingStatus",validationProps:"Please select Holding Status",contains:"Select",options:[{value:"",label:"Select"},{value:"Yes",label:"Yes"},{value:"No",label:"No"}]},{title:"Alloy",type:"select",name:"materialId",contains:"Select",options:Q.material},{title:"Alloy Wgt",type:"number",name:"materialWeight",contains:"number",inpprops:{min:0}},{title:"Runner Wgt",type:"number",name:"runnerWeight",contains:"number",inpprops:{min:0}},{title:"Furnance",type:"select",name:"furnace",contains:"Select",options:[{value:"",label:"Select"},{value:"Furnance_1",label:"Furnace 1"},{value:"Furnance_2",label:"Furnace 2"},{value:"Furnance_3",label:"Furnace 3"},{value:"Furnance_4",label:"Furnace 4"},{value:"Furnance_5",label:"Furnace 5"}]},{title:"Batch No(Heat Code)",type:"text",name:"heatNo",contains:"text",inpprops:{min:3,max:50}},{type:"hidden",name:"meltingEntryId",contains:"number",value:x}]},$=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(t){var n,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.meltingEntryId,n="/meltEntry/create",console.log(n),e.next=4,M(S.ZP+n,t);case 4:a=e.sent,console.log(a),1==a.retValues.status?t.meltingEntryId?(d(u.map((function(e){return e.meltingEntryId===a.retValues.meltEntry.meltingEntryId?a.retValues.meltEntry:e}))),G(Math.random()),z(a.retValues.message,"success")):a.retValues.meltEntry.meltEntryId>0&&(d([a.retValues.meltEntry].concat((0,r.Z)(u))),z(a.retValues.message,"success"),G(Math.random())):(z(a.retValues.message,"danger"),G(Math.random()));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)(m.Fragment,{children:[U,(0,m.jsx)(c.Z,{template:X,rowwise:3,validate:B,onSubmit:function(e){$(e)},onCancel:e.onCancel,buttonName:"Add",defaultValues:w}),(0,m.jsx)(y.Z,{children:(0,m.jsx)(h.Z,{cols:H((function(e,t){return function(){"edit"===t&&k(e)}})),data:u})})]})},Y=function(e){return[{title:"Entry Date",align:"Center",render:function(e){return(0,m.jsx)("span",{children:e.entryDate})}},{title:"Shift",align:"Center",render:function(e){return(0,m.jsx)("span",{children:e.shift})}},{title:"Quantity Inspected",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.insQuantity})}},{title:"Rejected",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.rejectedQuantity})}},{title:"Rework",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.reworkQuantity})}},{title:"Remarks",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.remarks})}},{title:"Edit",align:"center",render:function(t){return(0,m.jsx)(d.vPQ,{style:{cursor:"pointer"},onClick:e(t,"edit")})}}]};function q(e,t){var n=t.errors,r=t.setError,a=t.clearErrors;"Admin"===e.firstname?n.firstname||r("firstname",{type:"manual",message:"You cannot use this first name"}):n.firstname&&"manual"===n.firstname.type&&a("firstname")}var G=function(e){var t=(0,F.I0)(),n=(0,i.useState)({}),u=(0,o.Z)(n,2),d=(u[0],u[1],(0,i.useState)(Math.random())),p=(0,o.Z)(d,2),f=p[0],x=p[1],I=(0,i.useState)([{value:"",label:"Select"}]),C=(0,o.Z)(I,2),w=C[0],k=C[1],E=(0,F.v9)((function(e){return[e.alertProps.showAlert,e.alertProps.alertMessage,e.alertProps.alertVariant]})),P=(0,o.Z)(E,3),N=P[0],M=(P[1],P[2],(0,b.ZP)({data:[]})),V=M.get,A=M.post,D=M.response,Q=(M.loading,M.error,(0,i.useState)()),R=(0,o.Z)(Q,2),H=R[0],B=R[1],W=(0,i.useState)({stock:0,produced:0}),G=(0,o.Z)(W,2),T=G[0],L=G[1],O=function(e,n){t(j.I.showAlertHandler({showAlert:!N,alertMessage:e,alertVariant:n}))},K=(0,i.useCallback)((0,s.Z)((0,l.Z)().mark((function t(){var n;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(S.ZP+"/inspectionEntry/latestEntry",{orderId:e.orderId,prodProcMapId:e.selectedItem.prodProcMapId,lineInspection:"Quality"===e.selectedItem.process.proSubCat?"No":"Yes",loadState:f});case 2:n=t.sent,console.log(e.orderId),console.log(e.selectedItem.prodProcMapId),D.ok&&n.retValues.latestEntries&&B([n.retValues.latestEntries]),L((function(e){return(0,a.Z)((0,a.Z)({},e),{},{stock:n.retValues.prodStock.stockQuantity?n.retValues.prodStock.stockQuantity:0,produced:n.retValues.prodStock._producedQuantity?n.retValues.prodStock._producedQuantity:0})}));case 7:case"end":return t.stop()}}),t)}))),[A,D]),J=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(t){var n,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.insEntryId?"/inspectionEntry/update":"/inspectionEntry/create",console.log(n),e.next=4,A(S.ZP+n,t);case 4:r=e.sent,console.log(r),1==r.retValues.status?t.insEntryId?(B([r.retValues.insEntry]),x(Math.random()),O(r.retValues.message,"success")):r.retValues.insEntry.insEntryId>0&&(B([r.retValues.insEntry]),O(r.retValues.message,"success"),x(Math.random())):O(r.retValues.message,"danger");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){K()}),[f]);var z=(0,i.useState)(),U=(0,o.Z)(z,2),X=U[0],$=U[1],ee=(0,i.useCallback)((0,s.Z)((0,l.Z)().mark((function t(){var n;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(S.ZP+"/defect/loadOptions");case 2:n=t.sent,k([].concat((0,r.Z)(w),(0,r.Z)(n))),console.log((0,a.Z)({},e.selectedItem));case 5:case"end":return t.stop()}}),t)}))),[V,D]);(0,i.useEffect)((function(){ee()}),[]);var te=(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(g.Z,{body:!0,className:_.title,children:(0,m.jsxs)(Z.Z,{children:[(0,m.jsxs)(v.Z,{style:{backgroundColor:"grey",justifyContent:"left",borderRadius:"5%"},md:2,children:["Stock Qty ",(0,m.jsx)("br",{}),T.stock]}),(0,m.jsxs)(v.Z,{md:{span:6,offset:1},children:[" ",(0,m.jsxs)("h4",{children:["Quality"===e.selectedItem.process.proSubCat?"Inspection":"Line Inspection ".concat(e.selectedItem.process.processName)," "," - ",e.productName]})," "]})]})})}),ne={fields:[{title:"Date",type:"date",name:"entryDate",contains:"date",validation:"Date is Required",inpprops:{format:"dd/mm/yy"}},{title:"Shift",type:"select",name:"shift",validationProps:"Please select Shift",contains:"Select",options:[{value:"",label:"Select"},{value:"Shift_A",label:"Shift A"},{value:"Shift_B",label:"Shift B"},{value:"Shift_C",label:"Shift C"}]},{title:"Inspected Qty",type:"number",name:"insQuantity",contains:"number",inpprops:{min:1,step:1,max:T.stock}},{title:"Defect Type",type:"select",name:"defectId",contains:"Select",options:w},{title:"Rejected Qty",type:"number",name:"rejectedQuantity",contains:"number",inpprops:{min:0,step:1}},{title:"Rework Qty",type:"number",name:"reworkQuantity",contains:"number",inpprops:{min:0,step:1}},{title:"Remarks",type:"textarea",name:"remarks",contains:"textarea",inpprops:{maxlength:128,md:4}},{title:"Rework Serial No",type:"textarea",name:"reworkSerialNo",contains:"textarea",inpprops:{maxlength:255,md:4}},{title:"Rejected Serial No",type:"textarea",name:"rejectedSerialNo",contains:"textarea",inpprops:{maxlength:255,md:4}},{type:"hidden",name:"orderId",contains:"number",value:e.orderId},{type:"hidden",name:"prodProcMapId",contains:"number",value:e.selectedItem.prodProcMapId},{type:"hidden",name:"lineInspection",contains:"number",value:"Quality"===e.selectedItem.process.proSubCat?"No":"Yes"},{type:"hidden",name:"isReworkEntry",contains:"number",value:"No"}]};return(0,m.jsxs)(m.Fragment,{children:[te,(0,m.jsx)(c.Z,{template:ne,watchFields:["firstname"],rowwise:3,validate:q,onSubmit:function(e){J(e)},onCancel:e.onCancel,buttonName:"Add",defaultValues:X}),(0,m.jsx)(y.Z,{children:(0,m.jsx)(h.Z,{cols:Y((function(e,t){return function(){"edit"===t&&$(e)}})),data:H})})]})};var T=function(e){var t=(0,i.useState)(),n=(0,o.Z)(t,2),r=(n[0],n[1],(0,i.useState)()),c=(0,o.Z)(r,2),u=c[0],d=c[1],p=((0,F.I0)(),(0,b.ZP)({data:[]})),f=p.get,Z=p.post,v=p.response,x=(p.loading,p.error,(0,F.v9)((function(e){return[e.alertProps.showAlert,e.alertProps.alertMessage,e.alertProps.alertVariant]}))),j=(0,o.Z)(x,3),I=(j[0],j[1],j[2],(0,i.useCallback)((0,s.Z)((0,l.Z)().mark((function t(){var n;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v.ok,e.selectedItem.order.product.productId,t.next=4,Z(S.ZP+"/ppMap/processMaps",{id:e.selectedItem.order.product.productId,loadStateTime:Date().toLocaleString()});case 4:n=t.sent,d(n);case 6:case"end":return t.stop()}}),t)}))),[f,v]));(0,i.useEffect)((function(){I()}),[I]);var C=(0,i.useState)({id:"",Month:"",Year:"",Remarks:"",Quantity:""}),w=(0,o.Z)(C,2),k=(w[0],w[1],(0,i.useState)({showForm:!1,selectedForm:"",title:"",selectedItem:{id:0,productName:"",cusName:"",part:"",quantity:"",cost:""}})),E=(0,o.Z)(k,2),N=E[0],V=E[1],A=function(t){return function(){if(console.log((0,a.Z)({},t)),15===t.process.processId){var n={showForm:!0,selectedForm:(0,m.jsx)(R,{onCancel:Q,selectedItem:(0,a.Z)({},t),orderId:e.selectedItem.orderId,loadStateController:e.loadStateController,orderQty:e.selectedItem.order.quantity,productName:e.selectedItem.order.product.productName}),selectedItem:(0,a.Z)({},t),title:""};V((0,a.Z)((0,a.Z)({},N),n))}else if(15!=t.process.processId&"Production"===t.process.proSubCat){var r={showForm:!0,selectedForm:(0,m.jsx)(D,{onCancel:Q,selectedItem:(0,a.Z)({},t),orderId:e.selectedItem.order.orderId,loadStateController:e.loadStateController,productName:e.selectedItem.order.product.productName}),selectedItem:(0,a.Z)({},t),title:""};V((0,a.Z)((0,a.Z)({},N),r))}else if("Quality"===t.process.proSubCat){var l={showForm:!0,selectedForm:(0,m.jsx)(G,{onCancel:Q,selectedItem:(0,a.Z)({},t),orderId:e.selectedItem.order.orderId,loadStateController:e.loadStateController,productName:e.selectedItem.order.product.productName}),selectedItem:(0,a.Z)({},t)};V((0,a.Z)((0,a.Z)({},N),l))}else if(8==t.id){var s={showForm:!0,selectedForm:(0,m.jsx)(G,{onCancel:Q,selectedItem:t.ProcessName,orderId:e.selectedItem.order.orderId,loadStateController:e.loadStateController,productName:e.selectedItem.order.product.productName}),selectedItem:(0,a.Z)({},t),title:""};V((0,a.Z)((0,a.Z)({},N),s))}}},Q=function(){V((0,a.Z)((0,a.Z)({},N),{},{showForm:!1,selectedForm:"",title:"",selectedItem:(0,a.Z)((0,a.Z)({},N.selectedItem),{id:0,productName:"",cusName:"",part:"",quantity:"",cost:""})}))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(P.Z,(0,a.Z)((0,a.Z)({className:_.modal},e),{},{showFormHandler:A,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:N.showForm,onHide:Q,children:(0,m.jsx)(P.Z.Body,{children:N.selectedForm})})),(0,m.jsxs)(y.Z,{children:[(0,m.jsxs)(g.Z,{body:!0,className:_.title,children:[(0,m.jsxs)("h5",{children:["Production Entry For"," "," ",e.selectedItem.order.product.productName]})," "]}),(0,m.jsx)(y.Z,{className:_.simcard,children:(0,m.jsx)(h.Z,{data:u,cols:M(A,["process","inspection"],[2,3])})})]})]})},L=[{id:1,RmGrade:"RM32454343",Alloy:"60",Runner:"20",Qty:"4 kgs",type:"Ingots",tQty:"80 kgs"},{id:2,RmGrade:"TM3434322",Qty:"2 kgs",Alloy:"30",Runner:"10",type:"Ingots",tQty:"40 kgs"},{id:3,RmGrade:"LM4354545",Qty:"1 kgs",type:"Consumable",tQty:"20 kgs"},{id:4,RmGrade:"YU32454343",Qty:"3 kgs",type:"Consumable",tQty:"60 kgs"},{id:5,RmGrade:"EF32454343",Qty:"2 kgs",type:"Consumable",tQty:"40 kgs"}],O=function(e,t){return[{title:"Raw Material",align:"center",render:function(n){var r=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{style:{cursor:"pointer",color:"blue"},onClick:e(n,t[1]),children:n.RmGrade}),(0,m.jsx)("br",{}),(0,m.jsxs)("p",{children:["Alloy-",n.Alloy," \xa0 Runner-",n.Runner]})]});return(0,m.jsxs)(m.Fragment,{children:[" ","Ingots"=="".concat(n.type)?r:(0,m.jsx)("span",{children:n.RmGrade})]})}},{title:"Type",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.type})}},{title:"Unit Quantity",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.Qty})}},{title:"Today Requiremnet",align:"center",render:function(n){var r=(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("span",{style:{cursor:"pointer",color:"blue"},onClick:e(n,t[2]),children:n.tQty})});return(0,m.jsxs)(m.Fragment,{children:[" ","Ingots"=="".concat(n.type)?r:(0,m.jsx)("span",{children:n.tQty})]})}}]},K="rmentry_tableCon__bE0xA",J="rmentry_btn__6thAf",z="rmentry_buttCon__zj1mL",U=n(43360);function X(e){console.log(e)}function $(e,t){var n=t.errors,r=t.setError,a=t.clearErrors;"Admin"===e.firstname?n.firstname||r("firstname",{type:"manual",message:"You cannot use this first name"}):n.firstname&&"manual"===n.firstname.type&&a("firstname")}var ee=function(e){return(0,m.jsx)(g.Z,{children:(0,m.jsx)(c.Z,{template:{heading:"Enter Raw Material Details",fields:[{title:"Date",type:"date",name:"date",contains:"date",validation:"Date is Required",dateprops:{format:"dd/mm/yy"}},{title:"Type",type:"select",name:"furnance",contains:"Select",options:[{value:"",label:"Select"},{value:1,label:"Alloy Ingots"},{value:2,label:"Runners"},{value:3,label:"Consumables"},{value:4,label:"GDC General"}]},{title:"Raw Material",type:"select",name:"furnance",contains:"Select",options:[{value:"",label:"Select"},{value:1,label:"Steel grade001"},{value:0,label:"Aluminium grade002"},{value:0,label:"Iron Ore grade001"},{value:0,label:"Potash grade001"},{value:0,label:"Nitro grade001"}]},{title:"Weight",type:"number",name:"Qty1",contains:"number",numprops:{min:.1,step:.5}}]},rowwise:2,validate:$,onSubmit:X,onCancel:e.onCancel,buttonName:"Add"})})};function te(e){console.log(e)}function ne(e,t){var n=t.errors,r=t.setError,a=t.clearErrors;"Admin"===e.firstname?n.firstname||r("firstname",{type:"manual",message:"You cannot use this first name"}):n.firstname&&"manual"===n.firstname.type&&a("firstname")}var re=function(e){return(0,m.jsx)(g.Z,{children:(0,m.jsx)(c.Z,{template:{heading:"Enter Alloy/Runner Splitup",fields:[{title:"Alloy Wgt(kgs)",type:"number",name:"Qty1",contains:"number",inpprops:{min:50,step:2}},{title:"Runner Wgt(kgs)",type:"number",name:"Qty1",contains:"number",inpprops:{min:50,step:2}}]},rowwise:2,validate:ne,onSubmit:te,onCancel:e.onCancel,buttonName:"Save"})})};function ae(e){console.log(e)}function le(e,t){var n=t.errors,r=t.setError,a=t.clearErrors;"Admin"===e.firstname?n.firstname||r("firstname",{type:"manual",message:"You cannot use this first name"}):n.firstname&&"manual"===n.firstname.type&&a("firstname")}var se=function(e){return(0,m.jsx)(g.Z,{children:(0,m.jsx)(c.Z,{template:{heading:"Select Alternate Alloy",fields:[{title:"Alternate Alloys",type:"select",name:"furnance",contains:"Select",options:[{value:"",label:"Select"},{value:1,label:"Steel grade001"},{value:0,label:"Aluminium grade002"},{value:0,label:"Iron Ore grade001"},{value:0,label:"Potash grade001"},{value:0,label:"Nitro grade001"}]}]},rowwise:2,validate:le,onSubmit:ae,onCancel:e.onCancel,buttonName:"Save"})})};var oe=function(e){var t=(0,i.useState)({showForm:!1,selectedForm:"",selectedItem:{id:0,productName:"",cusName:"",part:"",quantity:"",cost:""}}),n=(0,o.Z)(t,2),r=n[0],l=n[1],s=function(e,t){return function(){if("RawMaterial"==t){var n={showForm:!0,selectedForm:(0,m.jsx)(ee,{onCancel:c,selected:r.selectedItem}),selectedItem:(0,a.Z)({},e)};l((0,a.Z)((0,a.Z)({},r),n))}else if("alternate"==t){var s={showForm:!0,selectedForm:(0,m.jsx)(se,{onCancel:c,selected:r.selectedItem}),selectedItem:(0,a.Z)({},e)};l((0,a.Z)((0,a.Z)({},r),s))}else if("splitup"==t){var o={showForm:!0,selectedForm:(0,m.jsx)(re,{onCancel:c,selected:r.selectedItem}),selectedItem:(0,a.Z)({},e)};l((0,a.Z)((0,a.Z)({},r),o))}}},c=function(){l((0,a.Z)((0,a.Z)({},r),{},{showForm:!1,selectedForm:"",selectedItem:(0,a.Z)((0,a.Z)({},r.selectedItem),{id:0,productName:"",cusName:"",part:"",quantity:"",cost:""})}))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(P.Z,{show:r.showForm,onHide:c,children:[(0,m.jsx)(P.Z.Header,{closeButton:!0,children:(0,m.jsx)(P.Z.Title,{})}),(0,m.jsx)(P.Z.Body,{children:r.selectedForm})]}),(0,m.jsxs)(u.Z,{title:"Raw Material Details",buttonName:"Add Material",onHeaderClick:s({},"RawMaterial"),bottonShow:r.showForm,children:[(0,m.jsx)(h.Z,{cols:O(s,["RawMaterial","alternate","splitup"]),data:L,className:K}),(0,m.jsxs)(Z.Z,{className:z,children:[(0,m.jsx)(U.Z,{className:J,children:"Request"}),(0,m.jsx)(U.Z,{variant:"danger",className:J,onClick:e.onCancel,children:"Cancel"})]})]})]})},ie=(n(82056),"dailyentry_title__UGhKX"),ce=function(e){return[{title:"Melt Date",align:"Center",render:function(e){return(0,m.jsx)("span",{children:e.MeltingDate})}},{title:"Shift",align:"Center",render:function(e){return(0,m.jsx)("span",{children:e.shift})}},{title:"Melt No",align:"left",render:function(e){return(0,m.jsx)("span",{children:e.heatNo})}},{title:"Furnance",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.furnace})}},{title:"Alloy Grade(Weight kgs)",align:"center",render:function(e){return(0,m.jsx)("span",{children:"".concat(e.material.materialName," (").concat(e.materialWeight,")")})}},{title:"Runner(kgs)",align:"center",render:function(e){return(0,m.jsx)("span",{children:"".concat(e.runnerWeight)})}},{title:"Total Weight",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.materialWeight+e.runnerWeight})}},{title:"Edit",align:"center",render:function(t){return(0,m.jsx)(d.vPQ,{style:{cursor:"pointer"},onClick:e(t,"edit")})}}]};function ue(e,t){var n=t.errors,r=t.setError,a=t.clearErrors;"Admin"===e.firstname?n.firstname||r("firstname",{type:"manual",message:"You cannot use this first name"}):n.firstname&&"manual"===n.firstname.type&&a("firstname")}var de=function(e){var t=(0,i.useState)([]),n=(0,o.Z)(t,2),u=n[0],d=n[1],p=(0,i.useState)(),f=(0,o.Z)(p,2),x=(f[0],f[1],(0,i.useState)()),C=(0,o.Z)(x,2),w=C[0],k=C[1],E=(0,F.I0)(),_=(0,b.ZP)({data:[]}),P=_.get,N=_.post,M=_.response,V=(_.loading,_.error,(0,i.useState)({material:[{value:"",label:"Select"}]})),A=(0,o.Z)(V,2),D=A[0],Q=A[1],R=(0,i.useState)(Math.random()),H=(0,o.Z)(R,2),B=H[0],W=H[1],Y=(0,F.v9)((function(e){return[e.alertProps.showAlert,e.alertProps.alertMessage,e.alertProps.alertVariant]})),q=(0,o.Z)(Y,3),G=q[0],T=(q[1],q[2],(0,i.useCallback)((0,s.Z)((0,l.Z)().mark((function e(){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(S.ZP+"/material/loadOptions");case 2:t=e.sent,Q((0,a.Z)((0,a.Z)({},D),{},{material:[].concat((0,r.Z)(D.material),(0,r.Z)(t))}));case 4:case"end":return e.stop()}}),e)}))),[P,M])),L=(0,i.useCallback)((0,s.Z)((0,l.Z)().mark((function t(){var n;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(S.ZP+"/meltEntry/holdingEntrys",{meltingEntryId:e.selectedItem.meltingEntryId,loadState:Date().toLocaleString()});case 2:n=t.sent,M.ok&&d(n);case 4:case"end":return t.stop()}}),t)}))),[P,M]),O=function(e,t){E(j.I.showAlertHandler({showAlert:!G,alertMessage:e,alertVariant:t}))};(0,i.useEffect)((function(){T(),L()}),[B]);var K=(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(g.Z,{body:!0,className:ie,style:{backgroundColor:I.Z.colors.ttle},children:(0,m.jsx)(Z.Z,{children:(0,m.jsxs)(v.Z,{md:{span:6,offset:3},children:[" ",(0,m.jsx)("h4",{children:"Holding Details"})," "]})})})}),J={fields:[{title:"Entry Date",type:"date",name:"MeltingDate",contains:"date",validationProps:"Date is Required",inpprops:{format:"dd/mm/yy"}},{title:"Shift",type:"select",name:"shift",validationProps:"Please select Shift",contains:"Select",options:[{value:"",label:"Select"},{value:"Shift_1",label:"Shift 1"},{value:"Shift_2",label:"Shift 2"},{value:"Shift_3",label:"Shift 3"}]},{title:"Furnance",type:"select",name:"furnace",contains:"Select",options:[{value:"",label:"Select"},{value:"Furnance_A",label:"Furnace A"},{value:"Furnance_B",label:"Furnace B"},{value:"Furnance_C",label:"Furnace C"},{value:"Furnance_D",label:"Furnace D"},{value:"Furnance_E",label:"Furnace E"},{value:"Furnance_F",label:"Furnace F"},{value:"Furnance_I",label:"Furnace I"},{value:"Furnance_J",label:"Furnace J"},{value:"Furnance_K",label:"Furnace K"},{value:"Furnance_L",label:"Furnace L"},{value:"Furnance_M",label:"Furnace M"},{value:"Furnance_N",label:"Furnace N"},{value:"Furnance_O",label:"Furnace O"},{value:"Furnance_P",label:"Furnace P"}]},{title:"Batch No(Heat Code)",type:"text",name:"heatNo",contains:"text",inpprops:{min:3,max:50}},{type:"hidden",name:"materialId",contains:"number",value:e.selectedItem.materialId},{type:"hidden",name:"holdingEntry",contains:"text",value:"Yes"}]},z=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(t){var n,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.meltingEntryId,n="/meltEntry/create",console.log(n),e.next=4,N(S.ZP+n,t);case 4:a=e.sent,console.log(a),1==a.retValues.status?t.meltingEntryId?(d(u.map((function(e){return e.meltingEntryId===a.retValues.meltEntry.meltingEntryId?a.retValues.meltEntry:e}))),W(Math.random()),O(a.retValues.message,"success")):a.retValues.meltEntry.meltEntryId>0&&(d([a.retValues.meltEntry].concat((0,r.Z)(u))),O(a.retValues.message,"success"),W(Math.random())):(O(a.retValues.message,"danger"),W(Math.random()));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)(m.Fragment,{children:[K,(0,m.jsx)(c.Z,{template:J,rowwise:3,validate:ue,onSubmit:function(t){t.meltingEntry=e.selectedItem,z(t)},onCancel:e.onCancel,buttonName:"Save",defaultValues:w}),(0,m.jsx)(y.Z,{children:(0,m.jsx)(h.Z,{cols:ce((function(e,t){return function(){"edit"===t&&k(e)}})),data:u})})]})},me={fields:[{title:"From Date",type:"date",name:"fromDate",contains:"date",inpprops:{format:"dd/mm/yy"}},{title:"To Date",type:"date",name:"toDate",contains:"date",inpprops:{format:"dd/mm/yy"}},{title:"Furnance",type:"select",name:"furnace",contains:"Select",options:[{value:"Select",label:"Select"},{value:"Furnance_A",label:"Furnace A"},{value:"Furnance_B",label:"Furnace B"},{value:"Furnance_C",label:"Furnace C"},{value:"Furnance_D",label:"Furnace D"},{value:"Furnance_E",label:"Furnace E"},{value:"Furnance_F",label:"Furnace F"},{value:"Furnance_J",label:"Furnace J"},{value:"Furnance_K",label:"Furnace K"},{value:"Furnance_L",label:"Furnace L"},{value:"Furnance_M",label:"Furnace M"},{value:"Furnance_N",label:"Furnace N"},{value:"Furnance_O",label:"Furnace O"},{value:"Furnance_P",label:"Furnace P"}]},{title:"Holding Entry",type:"select",name:"holdingStatus",validationProps:"Please select Holding Status",contains:"Select",options:[{value:"Select",label:"Select"},{value:"No",label:"No"},{value:"Yes",label:"Yes"}]}]},pe=["dailyForm","rmRequest","productionEntry","dispatch"];var fe=function(e){var t=(0,F.v9)((function(e){return[e.modalProps.showModal,e.modalProps.selectedForm,e.modalProps.selectedData]})),n=(0,o.Z)(t,3),d=(n[0],n[1],n[2],(0,F.v9)((function(e){return[e.alertProps.showAlert,e.alertProps.alertMessage,e.alertProps.alertVariant]}))),g=(0,o.Z)(d,3),Z=g[0],v=(g[1],g[2],(0,i.useState)({material:[{value:"",label:"Select"}]})),x=(0,o.Z)(v,2),I=x[0],C=x[1],w=(0,i.useState)(Math.random()),_=(0,o.Z)(w,2),P=_[0],N=_[1],M=(0,i.useState)([]),V=(0,o.Z)(M,2),A=V[0],D=V[1],Q=(0,F.I0)(),R=(0,b.ZP)({data:[]}),H=R.get,B=R.post,Y=R.response,q=(R.loading,R.error,(0,i.useCallback)((0,s.Z)((0,l.Z)().mark((function e(){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(S.ZP+"/meltEntry/meltEntrys",{id:1,loadState:Date().toString()});case 2:t=e.sent,Y.ok&&D(t);case 4:case"end":return e.stop()}}),e)}))),[H,Y])),G=(0,i.useCallback)((0,s.Z)((0,l.Z)().mark((function e(){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(S.ZP+"/material/loadOptions");case 2:t=e.sent,C((0,a.Z)((0,a.Z)({},I),{},{material:[].concat((0,r.Z)(I.material),(0,r.Z)(t))}));case 4:case"end":return e.stop()}}),e)}))),[H,Y]);(0,i.useEffect)((function(){G(),q()}),[P]);var L=function(e,t){Q(j.I.showAlertHandler({showAlert:!Z,alertMessage:e,alertVariant:t}))},O=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(t){var n,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.orderId?"/order/update":"/order/create",console.log(n),e.next=4,B(S.ZP+n,t);case 4:r=e.sent,console.log(r),1==r.retValues.status?t.orderId?(q(),Q(E.n.hideModalHandler()),L(r.retValues.message,"success")):r.retValues.order.orderId>0&&(Q(E.n.hideModalHandler()),L(r.retValues.message,"success"),q()):(Q(E.n.hideModalHandler()),L(r.retValues.message,"danger"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(e,t){return function(){"edit"==t?(console.log(e),Q(E.n.showModalHandler({selectedData:(0,a.Z)({},e),selectedForm:(0,m.jsx)(k,{onCancel:function(){return Q(E.n.hideModalHandler())},selectedItem:(0,a.Z)({},e),saveFunction:O,loadStateController:J,materials:I.material}),showModal:!0}))):"Holding"==t?Q(E.n.showModalHandler({selectedData:(0,a.Z)({},e),selectedForm:(0,m.jsx)(de,{onCancel:function(){return Q(E.n.hideModalHandler())},selectedItem:(0,a.Z)({},e),saveFunction:O,loadStateController:J}),showModal:!0})):"productionEntry"==t?Q(E.n.showModalHandler({selectedData:(0,a.Z)({},e),selectedForm:(0,m.jsx)(T,{onCancel:function(){return Q(E.n.hideModalHandler())},selectedItem:(0,a.Z)({},e),saveFunction:O,loadStateController:J}),showModal:!0})):"rmRequest"==t?Q(E.n.showModalHandler({selectedData:(0,a.Z)({},e),selectedForm:(0,m.jsx)(oe,{onCancel:function(){return Q(E.n.hideModalHandler())},selectedItem:(0,a.Z)({},e),saveFunction:O,loadStateContoller:J}),showModal:!0})):"meltingInward"==t&&Q(E.n.showModalHandler({selectedData:(0,a.Z)({},e),selectedForm:(0,m.jsx)(W,{onCancel:function(){return Q(E.n.hideModalHandler())},selectedItem:(0,a.Z)({},e),saveFunction:O,loadStateController:J}),showModal:!0}))}},J=function(e){N(Math.random())},z=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(t){var n,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n="/meltEntry/searchEntries",console.log(n),e.next=5,B(S.ZP+n,t);case 5:r=e.sent,console.log(r),D(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)("div",{className:f,children:[(0,m.jsx)(u.Z,{title:"Melting Entry",buttonName:"Add Melting Entry",onHeaderClick:K({},"edit"),children:(0,m.jsx)(c.Z,{template:me,rowwise:4,validate:he,onSubmit:function(e){e.random=Math.random(),console.log(e),z(e)},onCancel:e.onCancel,buttonName:"Search"})}),(0,m.jsx)(y.Z,{md:12,children:(0,m.jsx)(h.Z,{cols:p(K,pe,[8]),rows:10,data:A,striped:!0})})]})};function he(e,t){var n=t.errors,r=t.setError,a=t.clearErrors;"Admin"===e.firstname?n.firstname||r("firstname",{type:"manual",message:"You cannot use this first name"}):n.firstname&&"manual"===n.firstname.type&&a("firstname")}}}]);
//# sourceMappingURL=733.b24ec88d.chunk.js.map