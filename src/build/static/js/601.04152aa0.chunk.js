"use strict";(self.webpackChunkcosting=self.webpackChunkcosting||[]).push([[601],{21216:function(e,t){t.Z={colors:{dg:"#fafafa",dgc:"#f0f0f0",primary:"#007bff",secondary:"#6c757d",cardbody:"#E8F7F2",yllw:"yellow",simcard:"#170462",blk:"black",ttle:"#170462"},margins:{mg0:"0",mg1:"1rem",mg:".5rem .5rem 0 .5rem",mgt:".2rem .0rem"},paddings:{pd0:"0,",pd1:"1rem",pd:"0 1rem 0 1rem",pdc:"0 1.5rem"}}},23118:function(e,t,r){r.d(t,{Z:function(){return w}});var a=r(1413),n=r(70885),s=r(4942),o=r(72791),l={tableBody:"table_tableBody__NaJhZ"},i=r(89743),c=r(2677),u=r(89983),d=(r(77632),r(79836)),m=r(53382),p=r(68745),h=r(90618),f=r(39281),x=r(65136),Z=r(35855),g=r(35527),v=r(56890),y=r(40724),j=r(80184),b=function(e){var t=e.value,r=e.onChange;return(0,j.jsx)("input",{type:"text",placeholder:"Search...",value:t,onChange:function(e){return r(e.target.value)}})},q=(0,y.ZP)(p.Z)((function(e){var t,r=e.theme;return t={},(0,s.Z)(t,"&.".concat(h.Z.head),{backgroundColor:"rgb(0, 92, 185);",color:r.palette.common.white,border:"1px solid #B1BFC3"}),(0,s.Z)(t,"&.".concat(h.Z.body),{fontSize:16,backgroundColor:"#f2f2f2",border:"1px solid #B1BFC3"}),t})),R=(0,y.ZP)(Z.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover,borderBottom:"1px solid #B1BFC3"},"&:last-child td, &:last-child th":(0,s.Z)({border:0},"border","1px solid #B1BFC3")}})),S=function(e){var t=e.cols,r=e.data,s=e.rows,p=(e.loadDataonPageChange,e.counts,e.className),h=e.includeCheck,y=e.checkBoxEvent,S=e.value,w=e.onChange,C=e.styles,P=o.useState(0),N=(0,n.Z)(P,2),I=N[0],k=N[1],M=o.useState(s||10),F=(0,n.Z)(M,2),Q=F[0],B=F[1],V=o.useState(s<10?[5,10,25,50,100]:[10,25,50,100]),E=(0,n.Z)(V,2),A=E[0],D=(E[1],I>0&&Math.max(0,(1+I)*Q-r.length),"undefined"===typeof C?{}:C),H="center";return(0,j.jsx)(u.Pd.Provider,{value:{color:"#6495ED"},children:(0,j.jsx)(i.Z,{className:"".concat(l.tableContainer," ").concat(p),style:(0,a.Z)((0,a.Z)({},null===D||void 0===D?void 0:D.tablehead),null!==D&&void 0!==D&&D.tablehead?{}:{background:"transparent"}),children:(0,j.jsx)(g.Z,{className:l.tableContainer,children:(0,j.jsxs)(f.Z,{className:l.tableStyles,children:[(0,j.jsxs)(i.Z,{className:"justify-content-center align-items-center",style:{backgroundColor:"white",padding:"0 10px 0 10px"},children:[void 0!==S&&w&&(0,j.jsx)(c.Z,{children:(0,j.jsx)(b,{value:S,onChange:w})}),(0,j.jsx)(c.Z,{children:s&&(0,j.jsx)(x.Z,{sx:{padding:"0px",margin:"0px",".MuiTablePagination-selectLabel":{margin:"0px"},".MuiTablePagination-displayedRows":{margin:"0px"}},rowsPerPageOptions:A,component:"div",count:r.length,rowsPerPage:Q,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},page:I,onPageChange:function(e,t){k(t)},onRowsPerPageChange:function(e){B(+e.target.value),k(0)},className:l.pagination})})]}),(0,j.jsxs)("div",{style:(0,a.Z)((0,a.Z)({},null===D||void 0===D?void 0:D.table),null!==D&&void 0!==D&&D.table?{}:{background:"transparent"}),className:l.tableBody,children:[(0,j.jsxs)(d.Z,{stickyHeader:!0,className:"table table-bordered table-striped ".concat(l.table),children:[(0,j.jsxs)(v.Z,{children:["                ",(0,j.jsxs)(Z.Z,{children:[h&&(0,j.jsx)(q,{align:H,children:(0,j.jsx)("input",{type:"checkbox"})}),(0,j.jsx)(q,{align:H,children:"S.No"}),t.map((function(e,t){return(0,j.jsx)(q,{align:H,children:e.title},t)}))]})]}),r&&(0,j.jsx)(m.Z,{children:r.slice(I*Q,I*Q+Q).map((function(e,r){return(0,j.jsxs)(R,{children:[h&&(0,j.jsx)(q,{align:H,children:(0,j.jsx)("input",{type:"checkbox",onClick:function(t){y(e,t.target.checked)}})}),(0,j.jsx)(q,{children:I*Q+r+1}),t.map((function(t,r){return(0,j.jsx)(q,{align:t.align,className:t.hover&&l.hoverclass,children:t.render(e)},r)}))]},r++)}))})]})," "]})]})})})})};S.defaultProps={bordered:!0,hoverable:!1,striped:!1,isDark:!1};var w=S},46844:function(e,t,r){r.d(t,{Z:function(){return p}});var a=r(1413),n=(r(72791),r(38595),r(2144)),s=r(89743),o=r(2677),l=r(43360),i="SearchCard_card__Dzf+K",c="SearchCard_cardHeader__QVtAN",u="SearchCard_cardBody__Yd43+",d="SearchCard_addButton__iMTZ7",m=r(80184);var p=function(e,t){var r="undefined"===typeof e.styles?{}:e.styles;return(0,m.jsxs)(n.Z,{className:i,style:(0,a.Z)((0,a.Z)({},r.search),r.search?{}:{background:"transparent"}),children:[(0,m.jsx)(n.Z.Header,{className:c,children:(0,m.jsxs)(s.Z,{children:[(0,m.jsx)(o.Z,{xs:12,md:e.bottonShow?{span:12}:{span:5,offset:3},className:"d-flex justify-content-center",children:(0,m.jsx)("h4",{children:e.title})}),(0,m.jsx)(o.Z,{xs:12,md:4,className:"d-flex justify-content-end",children:!e.bottonShow&&(0,m.jsx)(l.Z,{variant:"primary",className:d,onClick:e.onHeaderClick,children:e.buttonName})})]})}),(0,m.jsx)(n.Z.Body,{className:u,children:e.children})]})}},75601:function(e,t,r){r.r(t),r.d(t,{default:function(){return z}});var a=r(1413),n=r(42982),s=r(74165),o=r(15861),l=r(70885),i=r(72791),c=r(60057),u=r(46844),d=(r(78431),"orders_container__na4p-"),m=r(79747),p=r(56355),h=r(80184),f=function(e,t){return[{title:"User Name",align:"center",render:function(e){return(0,h.jsx)("span",{children:e.user.userName})}},{title:"Request No",align:"center",render:function(e){return(0,h.jsx)("span",{children:e.requestNo})}},{title:"Request Date",align:"center",render:function(e){return(0,h.jsx)("span",{children:e.requestDate})}},{title:"Department",align:"center",render:function(e){return(0,h.jsx)("span",{children:e.department})}},{title:"Description",align:"center",render:function(e){return(0,h.jsx)("span",{children:e.purpose})}},{title:"Status",align:"center",render:function(r){return(0,h.jsxs)(h.Fragment,{children:[" ",["Requested"].includes("".concat(r.status))?(0,h.jsx)("span",{style:{cursor:"pointer",color:"blue"},onClick:e(r,t[2]),children:r.status}):(0,h.jsx)("span",{children:(0,h.jsx)("span",{style:{cursor:"pointer",color:"blue"},onClick:e(r,t[3]),children:r.status})})]})}},{title:"Approval Remarks",align:"center",render:function(e){return(0,h.jsx)("span",{children:e.approvalRemarks})}},{title:"Edit",align:"center",render:function(r){return(0,h.jsxs)(h.Fragment,{children:[" ",["Requested"].includes("".concat(r.status))?(0,h.jsx)("span",{children:(0,h.jsx)(p.fmQ,{style:{cursor:"pointer"},onClick:e(r,t[0])})}):(0,h.jsx)("span",{children:"Cannot Edit"})]})}}]},x=(r(38595),r(30717)),Z=r(89743),g=r(2677),v=r(61134),y=r(97829),j=r(73728),b=r(50654),q=r(21216);var R=function(e){var t=(0,i.useState)(),r=(0,l.Z)(t,2),n=r[0],s=(r[1],(0,i.useState)(e.prItems)),o=(0,l.Z)(s,2),c=(o[0],o[1],(0,i.useState)(e.materials)),u=(0,l.Z)(c,2),d=(u[0],u[1],(0,v.cI)({defaultValues:(0,a.Z)({},n)})),m=d.register,p=d.handleSubmit,f=d.formState.errors,R=(d.watch,d.setError,d.clearErrors,d.setValue,d.reset);return(0,i.useContext)(b.Z),(0,i.useEffect)((function(){R(e.defaultValues)}),[e.defaultValues]),(0,h.jsx)(x.Z,{className:y.Z.formcon,children:(0,h.jsxs)(Z.Z,{style:{backgroundColor:q.Z.colors.dgc,borderRadius:"1em"},children:[(0,h.jsx)(g.Z,{md:{span:4},children:(0,h.jsxs)(x.Z.Group,{children:[(0,h.jsx)(x.Z.Label,{htmlFor:"lineNo",children:"Material Category"}),(0,h.jsxs)(x.Z.Select,(0,a.Z)((0,a.Z)({id:"category",name:"category"},m("category",{required:"Items is Required"})),{},{className:y.Z.formBorder,children:[(0,h.jsx)("option",{value:"Raw_Materials",children:"Raw Materials"}),(0,h.jsx)("option",{value:"Office_Supplies",children:"Office Supplies"}),(0,h.jsx)("option",{value:"Electronics",children:"Electronics"})]})),f.lineNo&&(0,h.jsx)(x.Z.Text,{className:"text-danger",children:f.lineNo.message})]},"lineNo")}),(0,h.jsx)(g.Z,{md:{span:4},children:(0,h.jsxs)(x.Z.Group,{children:[(0,h.jsx)(x.Z.Label,{htmlFor:"lineNo",children:"Material Name"}),(0,h.jsx)(x.Z.Select,(0,a.Z)((0,a.Z)({id:"items"},m("materialId",{required:"Items is Required"})),{},{onChange:function(t){e.materialChange(t.target.value)},className:y.Z.formBorder,children:e.materials.map((function(e,t){var r=e.value,a=e.label;return(0,h.jsx)("option",{value:r,children:a})}))})),f.lineNo&&(0,h.jsx)(x.Z.Text,{className:"text-danger",children:f.lineNo.message})]},"lineNo")}),(0,h.jsx)(g.Z,{md:{span:4},children:(0,h.jsxs)(x.Z.Group,{children:[(0,h.jsx)(x.Z.Label,{htmlFor:"uom",children:"Uom"}),(0,h.jsx)(x.Z.Control,(0,a.Z)((0,a.Z)({type:"text",id:"uom",name:"uom",value:e.uom},m("uom",{required:"Quantity is Required"})),{},{diabled:!0,readOnly:!0,className:y.Z.formBorder}))]},"uom")}),(0,h.jsx)(g.Z,{md:4,children:(0,h.jsxs)(x.Z.Group,{children:[(0,h.jsx)(x.Z.Label,{htmlFor:"quantity",children:"Quantity"}),(0,h.jsx)(x.Z.Control,(0,a.Z)((0,a.Z)({type:"reqQty",id:"reqQty",name:"reqQty"},m("reqQty",{required:"Quantity is Required"})),{},{min:1,step:1,max:e.maxQty,className:y.Z.formBorder})),f.reqQty&&(0,h.jsx)(x.Z.Text,{className:"text-danger",children:f.reqQty.message})]},"quantity")}),(0,h.jsxs)(g.Z,{md:1,children:[" ",(0,h.jsx)("a",{children:(0,h.jsx)(j.qVg,{size:38,className:y.Z.btnextra,onClick:p((function(t){console.log(t),t.approvedQty=t.reqQty,e.saveprItems(t),R()})),hover:!0})})]})]})})},S=r(23118),w=r(23853),C=function(e,t,r){return[{title:"Material Name",align:"center",render:function(e){return(0,h.jsx)("span",{children:e.material.materialName})}},{title:"Quantity",align:"center",render:function(e){return(0,h.jsx)("span",{children:e.reqQty})}},{title:"Uom",align:"center",render:function(e){return(0,h.jsx)("span",{children:e.material.uom})}},{title:"Expected Date",align:"center",render:function(e){return(0,h.jsx)("span",{children:e.expectedDate})}},{title:"Remove",align:"center",render:function(t){return(0,h.jsx)(w.Ybf,{style:{cursor:"pointer"},onClick:e(t)})}}]},P=r(99355),N=r(21229);var I=function(e){var t=e.data?e.data:[],r=(0,i.useState)(t),n=(0,l.Z)(r,2),c=n[0],u=n[1],d=(0,i.useState)({materialName:"",uom:""}),m=(0,l.Z)(d,2),p=m[0],f=m[1],x=(0,N.ZP)({data:[]}),Z=(x.get,x.post),g=x.response,v=(x.loading,x.error,(0,i.useState)({})),y=(0,l.Z)(v,2),j=y[0],b=(y[1],(0,i.useState)(c.length>0?e.maxQty-c.map((function(e){return e.quantity})).reduce((function(e,t){return e+t})):e.maxQty)),q=(0,l.Z)(b,2),w=q[0],I=(q[1],function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,Z(P.ZP+"/material/getById",{materialId:t});case 3:r=e.sent,g.ok?f((function(e){return(0,a.Z)({},r)})):f("Not Available");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return(0,h.jsxs)("div",{style:{padding:"0rem 1.5rem"},children:[(0,h.jsx)(R,{saveprItems:function(t){t.material={},t.material.materialName=p.materialName,t.material.uom=p.uom,e.onPrItemsUpdate(t,"add")},defaultValues:j,maxQty:w,materials:e.materials,materialChange:I,uom:p.uom}),(0,h.jsx)(S.Z,{data:e.data,cols:C((function(t){return function(){u(c.filter((function(e){return e.materialId!==t.materialId}))),e.onPrItemsUpdate(t,"deleted")}}),"",[6,5])})]})},k={upper:{padding:"0"},uppertitle:{borderBottomLeftRadius:0,borderBottomRightRadius:"0"},upperRow:{margin:".5rem .5rem 0 .5rem",backgroundColor:q.Z.colors.dg,borderRadius:"1em"}};var M=function(e){var t=(0,N.ZP)({data:[]}),r=t.get,u=(t.post,t.response),d=(t.loading,t.error,(0,i.useState)(e.selectedItem.materialRequests?e.selectedItem.materialRequests:[])),m=(0,l.Z)(d,2),p=m[0],f=m[1],x=(0,i.useContext)(b.Z).userId;console.log(x);var Z=(0,i.useState)(e.selectedItem?e.selectedItem.quantity:1),g=(0,l.Z)(Z,2),v=g[0],y=g[1],j=(0,i.useState)([{value:"",label:"Select"}]),q=(0,l.Z)(j,2),R=q[0],S=q[1],w=(0,i.useCallback)((0,o.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(P.ZP+"/material/loadOptions");case 2:t=e.sent,S([].concat((0,n.Z)(R),(0,n.Z)(t)));case 4:case"end":return e.stop()}}),e)}))),[r,u]);(0,i.useEffect)((function(){w()}),[]);var C={heading:"Purchase Request Entry",fields:[{title:"Req Number",type:"text",name:"requestNo",contains:"text",inpprops:{}},{title:"Req Date",type:"date",name:"requestDate",contains:"date",validationProps:"Internal Part No is required",inpprops:{format:"dd/mm/yyyy"}},{title:"Purpose",type:"textarea",name:"purpose",contains:"textarea",inpprops:{maxlength:128,md:4}},{type:"hidden",name:"status",contains:"hidden",value:"Requested"},{type:"hidden",name:"userId",contains:"hidden",value:x}]};return(0,h.jsx)(c.Z,{template:C,rowwise:3,watchFields:["quantity"],validate:function(e,t){t.errors,t.setError,t.clearErrors,e[0]>0&&(console.log(e[0]),y(e[0]))},onSubmit:function(t){t.storesRequestItems=p,console.log(t),e.saveFunction(t)},onCancel:e.onCancel,buttonName:"Submit",defaultValues:e.selectedItem,styles:k,btButtons:(0,h.jsx)(I,{materials:R,data:p,onPrItemsUpdate:function(e,t){"add"===t?(f((function(t){return[].concat((0,n.Z)(t),[e])})),console.log(p)):(console.log((0,a.Z)({},e)),f(p.filter((function(t){return t.materialId!==e.materialId}))))},maxQty:v})})},F=r(59434),Q=r(34476),B=r(4349),V=function(e,t,r){return[{title:"Material  Name",align:"center",render:function(e){return(0,h.jsx)("span",{children:e.material.materialName})}},{title:"Request Qty",align:"center",render:function(e){return(0,h.jsx)("span",{children:e.reqQty})}},{title:"Approve Qty",align:"left",render:function(t){var r="qty".concat(t.materialRequestPRId),a=t.approvedQty;return(0,h.jsx)("span",{children:(0,h.jsx)(x.Z.Group,{children:(0,h.jsx)(x.Z.Control,{type:"text",id:r,name:r,defaultValue:a,onBlur:function(r){return e("materialQty",r.target.value,t)}})},"materialQty")})}}]};var E={margin:"0",padding:"0"},A={table:{padding:"1rem"},upper:{padding:"0 1rem 0 1rem"},simplettl:{height:"3rem",display:"flex",justifyContent:"center",backgroundColor:q.Z.colors.ttle,borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px"}},D=["acceptedEdit"];function H(e,t){var r=t.errors,a=t.setError,n=t.clearErrors;"Admin"===e.firstname?r.firstname||a("firstname",{type:"manual",message:"You cannot use this first name"}):r.firstname&&"manual"===r.firstname.type&&n("firstname")}var _=function(e){var t=(0,F.v9)((function(e){return[e.alertProps.showAlert,e.alertProps.alertMessage,e.alertProps.alertVariant]})),r=(0,l.Z)(t,3),a=(r[0],r[1],r[2],(0,N.ZP)()),n=(a.get,a.post),u=a.response,d=(a.loading,a.error,(0,F.I0)(),(0,i.useState)([])),p=(0,l.Z)(d,2),f=p[0],x=p[1],Z=(0,i.useState)({showForm:!1,selectedForm:"",title:"",selectedItem:{id:0,productName:"",cusName:"",part:"",quantity:"",cost:""}}),g=(0,l.Z)(Z,2),v=(g[0],g[1],function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,n(P.ZP+"/storesReqItems/updateApprovedQty",t);case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y=(0,i.useCallback)((0,o.Z)((0,s.Z)().mark((function t(){var r;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.loadState),t.next=3,n(P.ZP+"/storesReqItems/reqItems",{id:e.selected.storesRequestId,loadState:Math.random()});case 3:r=t.sent,console.log(r),u.ok&&x(r);case 6:case"end":return t.stop()}}),t)}))),[n,u,e.loadState]);return(0,i.useEffect)((function(){y()}),[y]),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(m.Z,{upper:E,title:"Approve Requests",styles:A,children:[(0,h.jsx)(S.Z,{cols:V((function(e,t,r){"materialQty"===e&&(r.approvedQty=t,v(r))}),D,[5]),data:f,styles:A}),(0,h.jsx)(c.Z,{template:{fields:[{title:"Remarks",type:"textarea",name:"approvalRemarks",contains:"textarea",validationProps:"Please Enter Approval Remarks",inpprops:{md:4,maxLength:512}},{type:"hidden",name:"status",contains:"hidden",value:"Approved"}]},rowwise:3,validate:H,onSubmit:function(t){console.log(t),t.storesRequestId=e.selected.storesRequestId,e.saveFunction(t)},onCancel:e.onCancel,buttonName:"Approve",styles:A})]})})},L=function(e,t,r){return[{title:"Material  Name",align:"center",render:function(e){return(0,h.jsx)("span",{children:e.material.materialName})}},{title:"Request Qty",align:"center",render:function(e){return(0,h.jsx)("span",{children:e.reqQty})}},{title:"Approved Qty",align:"center",render:function(e){return(0,h.jsx)("span",{children:e.approvedQty})}},{title:"Issued Qty",align:"center",render:function(e){return(0,h.jsx)("span",{children:e.issuedQty})}},{title:"Status",align:"center",render:function(e){return(0,h.jsx)("span",{children:e.status})}}]},T={margin:"0",padding:"0"},U={table:{padding:"1rem"},upper:{padding:"1rem"},simplettl:{height:"3rem",display:"flex",justifyContent:"center",backgroundColor:q.Z.colors.ttle,borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px"}},G=["acceptedEdit"];var O=function(e){var t=(0,F.v9)((function(e){return[e.alertProps.showAlert,e.alertProps.alertMessage,e.alertProps.alertVariant]})),r=(0,l.Z)(t,3),a=(r[0],r[1],r[2],(0,N.ZP)()),n=(a.get,a.post),c=a.response,u=(a.loading,a.error,(0,F.I0)(),(0,i.useState)([])),d=(0,l.Z)(u,2),p=d[0],f=d[1],x=(0,i.useState)({showForm:!1,selectedForm:"",title:"",selectedItem:{id:0,productName:"",cusName:"",part:"",quantity:"",cost:""}}),Z=(0,l.Z)(x,2),g=(Z[0],Z[1],function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,n(P.ZP+"/matrialPrItems/update",t);case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=(0,i.useCallback)((0,o.Z)((0,s.Z)().mark((function t(){var r;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.loadState),t.next=3,n(P.ZP+"/storesReqItems/reqItems",{id:e.selected.storesRequestId,loadState:Math.random()});case 3:r=t.sent,console.log(r),c.ok&&f(r);case 6:case"end":return t.stop()}}),t)}))),[n,c,e.loadState]);return(0,i.useEffect)((function(){v()}),[v]),(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(m.Z,{upper:T,title:"Approved Requests",styles:U,children:(0,h.jsx)(S.Z,{cols:L((function(e,t,r){"materialQty"===e&&(r.materialQty=t,g(r))}),G),data:p,styles:U})})})},Y={fields:[{title:"From Date",type:"date",name:"fromDate",contains:"date",inpprops:{format:"dd/mm/yy"}},{title:"To Date",type:"date",name:"toDate",contains:"date",inpprops:{format:"dd/mm/yy"}},{title:"Depatment",type:"select",name:"department",validationProps:"Please select Shift",contains:"Select",options:[{value:"Select",label:"Select"},{value:"Administration",label:"Administration"},{value:"Production",label:"Production"},{value:"Quality",label:"Quality"},{value:"Stores",label:"Stores"}]},{title:"Request Status",type:"select",name:"status",contains:"Select",options:[{value:"Select",label:"Select"},{value:"Requested",label:"Requested"},{value:"Approved",label:"Approved"},{value:"Issued",label:"Issued"},{value:"Closed",label:"Closed"}]}]};var z=function(e){var t=(0,i.useState)([]),r=(0,l.Z)(t,2),p=r[0],x=r[1],Z=(0,N.ZP)({data:[]}),g=Z.get,v=Z.post,y=Z.response,j=(Z.loading,Z.error,(0,i.useState)(Math.random())),b=(0,l.Z)(j,2),q=b[0],R=(b[1],(0,F.v9)((function(e){return[e.alertProps.showAlert,e.alertProps.alertMessage,e.alertProps.alertVariant]}))),w=(0,l.Z)(R,3),C=w[0],I=(w[1],w[2],(0,F.v9)((function(e){return[e.modalProps.showModal,e.modalProps.selectedForm,e.modalProps.selectedData]}))),k=(0,l.Z)(I,3),V=k[0],E=(k[1],k[2]),A=(0,F.I0)(),D=function(e,t){A(B.I.showAlertHandler({showAlert:!C,alertMessage:e,alertVariant:t}))},H=(0,i.useCallback)((0,o.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(P.ZP+"/storesRequest/storeRequests",{random:Math.random()});case 2:t=e.sent,y.ok&&x(t);case 4:case"end":return e.stop()}}),e)}))),[g,y,q]);(0,i.useEffect)((function(){H()}),[H]);var L=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.storesRequestId,r=t.storesRequestId?"/storesRequest/update":"/storesRequest/create",console.log(r),console.log(t),e.next=6,v(P.ZP+r,t);case 6:a=e.sent,console.log(a),1==a.retValues.status?t.purchaseRequestId?(x(p.map((function(e){return e.purchaseRequestId===a.retValues.materialPR.purchaseRequestId?a.retValues.materialPR:e}))),A(Q.n.hideModalHandler()),D(a.retValues.message,"success")):a.retValues.materialPR.purchaseRequestId>0&&(x([a.retValues.materialPR].concat((0,n.Z)(p))),A(Q.n.hideModalHandler()),D(a.retValues.message,"success")):(A(Q.n.hideModalHandler()),D(a.retValues.message,"danger"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/storesRequest/approval",e.next=3,v(P.ZP+"/storesRequest/approval",t);case 3:r=e.sent,console.log(r),1==r.retValues.status?t.storesRequestId?(x(p.map((function(e){return e.storesRequestId===r.retValues.storeRequest.storesRequestId?r.retValues.storeRequest:e}))),A(Q.n.hideModalHandler()),D(r.retValues.message,"success")):r.retValues.storeRequest.storesRequestId>0&&(x([r.retValues.storeRequest].concat((0,n.Z)(p))),A(Q.n.hideModalHandler()),D(r.retValues.message,"success")):(A(Q.n.hideModalHandler()),D(r.retValues.message,"danger"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(e,t){return function(){"productForm"==t?A(Q.n.showModalHandler({selectedData:(0,a.Z)({},e),selectedForm:(0,h.jsx)(M,{onCancel:function(){return A(Q.n.hideModalHandler())},selectedItem:E,saveFunction:L}),showModal:!0})):"edit"===t?(console.log((0,a.Z)({},e)),A(Q.n.showModalHandler({selectedData:(0,a.Z)({},e),selectedForm:(0,h.jsx)(M,{onCancel:function(){return A(Q.n.hideModalHandler())},selectedItem:e,saveFunction:L}),showModal:!0}))):"approvalForm"==t?A(Q.n.showModalHandler({selectedData:(0,a.Z)({},e),selectedForm:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(_,{selected:e,saveFunction:T,onCancel:function(){return A(Q.n.hideModalHandler())},loadState:q})}),showModal:!0})):"viewApproved"==t&&A(Q.n.showModalHandler({selectedData:(0,a.Z)({},e),selectedForm:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(O,{selected:e,saveFunction:T,onCancel:function(){return A(Q.n.hideModalHandler())},loadState:q})}),showModal:!0}))}},G=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/materialPr/search",console.log(r),e.next=4,v(P.ZP+r,t);case 4:a=e.sent,console.log(a),a.length>0?x(a):x([]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,h.jsxs)("div",{className:d,children:[(0,h.jsx)(u.Z,{title:"Stores : Material Request Search",buttonName:"Store Request",onHeaderClick:U({},"productForm"),bottonShow:V,children:(0,h.jsx)(c.Z,{template:Y,rowwise:4,validate:J,onSubmit:function(e){console.log(e),e.random=Math.random(),G(e)},onCancel:e.onCancel,buttonName:"Search"})}),(0,h.jsx)(m.Z,{md:12,children:(0,h.jsx)(S.Z,{cols:f(U,["edit","productForm","approvalForm","viewApproved","materialForm"]),data:p,rows:10,striped:!0})})]})};function J(e,t){var r=t.errors,a=t.setError,n=t.clearErrors;"Admin"===e.firstname?r.firstname||a("firstname",{type:"manual",message:"You cannot use this first name"}):r.firstname&&"manual"===r.firstname.type&&n("firstname")}}}]);
//# sourceMappingURL=601.04152aa0.chunk.js.map