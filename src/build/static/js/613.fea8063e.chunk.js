"use strict";(self.webpackChunkcosting=self.webpackChunkcosting||[]).push([[613],{23118:function(e,t,n){n.d(t,{Z:function(){return k}});var r=n(1413),a=n(70885),s=n(4942),o=n(72791),l={tableBody:"table_tableBody__NaJhZ"},i=n(89743),c=n(2677),d=n(89983),u=(n(77632),n(79836)),m=n(53382),p=n(68745),f=n(90618),h=n(39281),y=n(65136),Z=n(35855),x=n(35527),g=n(56890),v=n(40724),b=n(80184),j=function(e){var t=e.value,n=e.onChange;return(0,b.jsx)("input",{type:"text",placeholder:"Search...",value:t,onChange:function(e){return n(e.target.value)}})},S=(0,v.ZP)(p.Z)((function(e){var t,n=e.theme;return t={},(0,s.Z)(t,"&.".concat(f.Z.head),{backgroundColor:"rgb(0, 92, 185);",color:n.palette.common.white,border:"1px solid #B1BFC3"}),(0,s.Z)(t,"&.".concat(f.Z.body),{fontSize:16,backgroundColor:"#f2f2f2",border:"1px solid #B1BFC3"}),t})),I=(0,v.ZP)(Z.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover,borderBottom:"1px solid #B1BFC3"},"&:last-child td, &:last-child th":(0,s.Z)({border:0},"border","1px solid #B1BFC3")}})),C=function(e){var t=e.cols,n=e.data,s=e.rows,p=(e.loadDataonPageChange,e.counts,e.className),f=e.includeCheck,v=e.checkBoxEvent,C=e.value,k=e.onChange,w=e.styles,P=o.useState(0),N=(0,a.Z)(P,2),E=N[0],_=N[1],F=o.useState(s||10),M=(0,a.Z)(F,2),V=M[0],Q=M[1],A=o.useState(s<10?[5,10,25,50,100]:[10,25,50,100]),D=(0,a.Z)(A,2),R=D[0],H=(D[1],E>0&&Math.max(0,(1+E)*V-n.length),"undefined"===typeof w?{}:w),B="center";return(0,b.jsx)(d.Pd.Provider,{value:{color:"#6495ED"},children:(0,b.jsx)(i.Z,{className:"".concat(l.tableContainer," ").concat(p),style:(0,r.Z)((0,r.Z)({},null===H||void 0===H?void 0:H.tablehead),null!==H&&void 0!==H&&H.tablehead?{}:{background:"transparent"}),children:(0,b.jsx)(x.Z,{className:l.tableContainer,children:(0,b.jsxs)(h.Z,{className:l.tableStyles,children:[(0,b.jsxs)(i.Z,{className:"justify-content-center align-items-center",style:{backgroundColor:"white",padding:"0 10px 0 10px"},children:[void 0!==C&&k&&(0,b.jsx)(c.Z,{children:(0,b.jsx)(j,{value:C,onChange:k})}),(0,b.jsx)(c.Z,{children:s&&(0,b.jsx)(y.Z,{sx:{padding:"0px",margin:"0px",".MuiTablePagination-selectLabel":{margin:"0px"},".MuiTablePagination-displayedRows":{margin:"0px"}},rowsPerPageOptions:R,component:"div",count:n.length,rowsPerPage:V,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},page:E,onPageChange:function(e,t){_(t)},onRowsPerPageChange:function(e){Q(+e.target.value),_(0)},className:l.pagination})})]}),(0,b.jsxs)("div",{style:(0,r.Z)((0,r.Z)({},null===H||void 0===H?void 0:H.table),null!==H&&void 0!==H&&H.table?{}:{background:"transparent"}),className:l.tableBody,children:[(0,b.jsxs)(u.Z,{stickyHeader:!0,className:"table table-bordered table-striped ".concat(l.table),children:[(0,b.jsxs)(g.Z,{children:["                ",(0,b.jsxs)(Z.Z,{children:[f&&(0,b.jsx)(S,{align:B,children:(0,b.jsx)("input",{type:"checkbox"})}),(0,b.jsx)(S,{align:B,children:"S.No"}),t.map((function(e,t){return(0,b.jsx)(S,{align:B,children:e.title},t)}))]})]}),n&&(0,b.jsx)(m.Z,{children:n.slice(E*V,E*V+V).map((function(e,n){return(0,b.jsxs)(I,{children:[f&&(0,b.jsx)(S,{align:B,children:(0,b.jsx)("input",{type:"checkbox",onClick:function(t){v(e,t.target.checked)}})}),(0,b.jsx)(S,{children:E*V+n+1}),t.map((function(t,n){return(0,b.jsx)(S,{align:t.align,className:t.hover&&l.hoverclass,children:t.render(e)},n)}))]},n++)}))})]})," "]})]})})})})};C.defaultProps={bordered:!0,hoverable:!1,striped:!1,isDark:!1};var k=C},46844:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(1413),a=(n(72791),n(38595),n(2144)),s=n(89743),o=n(2677),l=n(43360),i="SearchCard_card__Dzf+K",c="SearchCard_cardHeader__QVtAN",d="SearchCard_cardBody__Yd43+",u="SearchCard_addButton__iMTZ7",m=n(80184);var p=function(e,t){var n="undefined"===typeof e.styles?{}:e.styles;return(0,m.jsxs)(a.Z,{className:i,style:(0,r.Z)((0,r.Z)({},n.search),n.search?{}:{background:"transparent"}),children:[(0,m.jsx)(a.Z.Header,{className:c,children:(0,m.jsxs)(s.Z,{children:[(0,m.jsx)(o.Z,{xs:12,md:e.bottonShow?{span:12}:{span:5,offset:3},className:"d-flex justify-content-center",children:(0,m.jsx)("h4",{children:e.title})}),(0,m.jsx)(o.Z,{xs:12,md:4,className:"d-flex justify-content-end",children:!e.bottonShow&&(0,m.jsx)(l.Z,{variant:"primary",className:u,onClick:e.onHeaderClick,children:e.buttonName})})]})}),(0,m.jsx)(a.Z.Body,{className:d,children:e.children})]})}},44969:function(e,t,n){},47084:function(e,t,n){var r=n(74165),a=n(1413),s=n(42982),o=n(15861),l=n(70885),i=n(72791),c=n(60057),d=n(2144),u=n(89743),m=n(2677),p=n(30427),f=n(99355),h=n(59434),y=n(21229),Z=n(4349),x=n(87567),g=n(79747),v=n(23118),b=n(80184);function j(e,t){var n=t.errors,r=t.setError,a=t.clearErrors;"Admin"===e.firstname?n.firstname||r("firstname",{type:"manual",message:"You cannot use this first name"}):n.firstname&&"manual"===n.firstname.type&&a("firstname")}t.Z=function(e){var t=(0,h.I0)(),n=(0,i.useState)({}),S=(0,l.Z)(n,2),I=(S[0],S[1],(0,i.useState)(Math.random())),C=(0,l.Z)(I,2),k=C[0],w=C[1],P=(0,i.useState)([{value:"",label:"Select"}]),N=(0,l.Z)(P,2),E=N[0],_=N[1],F=(0,i.useState)([]),M=(0,l.Z)(F,2),V=M[0],Q=M[1],A=(0,h.v9)((function(e){return[e.alertProps.showAlert,e.alertProps.alertMessage,e.alertProps.alertVariant]})),D=(0,l.Z)(A,3),R=D[0],H=(D[1],D[2],(0,y.ZP)({data:[]})),B=H.get,q=H.post,T=H.response,G=(H.loading,H.error,(0,i.useState)()),Y=(0,l.Z)(G,2),W=Y[0],O=Y[1],L=(0,i.useState)({stock:0,produced:0}),z=(0,l.Z)(L,2),J=z[0],K=z[1],U=function(e,n){t(Z.I.showAlertHandler({showAlert:!R,alertMessage:e,alertVariant:n}))},X=(0,i.useCallback)((0,o.Z)((0,r.Z)().mark((function t(){var n,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(f.ZP+"/inspectionEntry/latestEntry",{orderId:e.orderId,prodProcMapId:e.selectedItem.prodProcMapId,loadState:k});case 2:return n=t.sent,t.next=5,q(f.ZP+"/ppMap/loadOptionsBefore",{id:e.selectedItem.prodProcMapId});case 5:o=t.sent,Q([{value:"",label:"Select"}].concat((0,s.Z)(o))),console.log(n),T.ok&&n.retValues.latestEntries&&O([n.retValues.latestEntries]),K((function(e){return(0,a.Z)((0,a.Z)({},e),{},{stock:n.retValues.prodStock.stockQuantity?n.retValues.prodStock.stockQuantity:0,produced:n.retValues.prodStock._producedQuantity?n.retValues.prodStock._producedQuantity:0})}));case 10:case"end":return t.stop()}}),t)}))),[q,T]),$=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.insEntryId?"/inspectionEntry/update":"/inspectionEntry/create",console.log(n),e.next=4,q(f.ZP+n,t);case 4:a=e.sent,console.log(a),1==a.retValues.status?t.insEntryId?(O([a.retValues.insEntry]),w(Math.random()),U(a.retValues.message,"success")):a.retValues.insEntry.insEntryId>0&&(O([a.retValues.insEntry]),U(a.retValues.message,"success"),w(Math.random())):U(a.retValues.message,"danger");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){X()}),[k]);var ee=(0,i.useState)(),te=(0,l.Z)(ee,2),ne=te[0],re=te[1],ae=(0,i.useCallback)((0,o.Z)((0,r.Z)().mark((function t(){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(f.ZP+"/defect/loadOptions");case 2:n=t.sent,_([].concat((0,s.Z)(E),(0,s.Z)(n))),console.log((0,a.Z)({},e.selectedItem));case 5:case"end":return t.stop()}}),t)}))),[B,T]);(0,i.useEffect)((function(){ae()}),[]);var se=(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(d.Z,{body:!0,className:p.Z.title,children:(0,b.jsxs)(u.Z,{children:[(0,b.jsxs)(m.Z,{style:{backgroundColor:"grey",justifyContent:"left",borderRadius:"5%"},md:2,children:["Stock Qty ",(0,b.jsx)("br",{}),J.stock]}),(0,b.jsxs)(m.Z,{md:{span:6,offset:1},children:[" ",(0,b.jsxs)("h4",{children:["Quality"===e.selectedItem.process.proSubCat?"Inspection":"Line Inspection ".concat(e.selectedItem.process.processName)," "," - ",e.productName]})," "]})]})})}),oe={fields:[{title:"Date",type:"date",name:"entryDate",contains:"date",validation:"Date is Required",inpprops:{format:"dd/mm/yy"}},{title:"Shift",type:"select",name:"shift",validationProps:"Please select Shift",contains:"Select",options:[{value:"",label:"Select"},{value:"Shift_1",label:"Shift 1"},{value:"Shift_2",label:"Shift 2"},{value:"Shift_3",label:"Shift 3"}]},{title:"Inspected Qty",type:"number",name:"insQuantity",contains:"number",inpprops:{min:1,step:1,max:J.stock}},{title:"Rework Qty",type:"number",name:"reworkQuantity",contains:"number",inpprops:{min:0,step:1}},{title:"Rework Serial No",type:"textarea",name:"reworkSerialNo",contains:"textarea",inpprops:{maxlength:255,md:4}},{title:"Rework Process",type:"select",name:"reworkMapId",validationProps:"Please select Process",contains:"Select",options:V},{title:"Remarks",type:"textarea",name:"remarks",contains:"textarea",inpprops:{maxlength:128,md:4}},{title:"Rejected Qty",type:"number",name:"rejectedQuantity",contains:"number",inpprops:{min:0,step:1}},{title:"Defect Type",type:"select",name:"defectId",contains:"Select",options:E},{title:"Rejected Serial No",type:"textarea",name:"rejectedSerialNo",contains:"textarea",inpprops:{maxlength:255,md:4}},{type:"hidden",name:"orderId",contains:"number",value:e.orderId},{type:"hidden",name:"prodProcMapId",contains:"number",value:e.selectedItem.prodProcMapId},{type:"hidden",name:"lineInspection",contains:"number",value:"Quality"===e.selectedItem.process.proSubCat?"No":"Yes"},{type:"hidden",name:"isReworkEntry",contains:"number",value:"No"}]};return(0,b.jsxs)(b.Fragment,{children:[se,(0,b.jsx)(c.Z,{template:oe,watchFields:["firstname"],rowwise:3,validate:j,onSubmit:function(e){$(e)},onCancel:e.onCancel,buttonName:"Add",defaultValues:ne}),(0,b.jsx)(g.Z,{children:(0,b.jsx)(v.Z,{cols:(0,x.Z)((function(e,t){return function(){"edit"===t&&re(e)}})),data:W})})]})}},87567:function(e,t,n){n(72791);var r=n(23853),a=n(80184);t.Z=function(e){return[{title:"Entry Date",align:"Center",render:function(e){return(0,a.jsx)("span",{children:e.entryDate})}},{title:"Shift",align:"Center",render:function(e){return(0,a.jsx)("span",{children:e.shift})}},{title:"Quantity Inspected",align:"center",render:function(e){return(0,a.jsx)("span",{children:e.insQuantity})}},{title:"Rejected",align:"center",render:function(e){return(0,a.jsx)("span",{children:e.rejectedQuantity})}},{title:"Rework",align:"center",render:function(e){return(0,a.jsx)("span",{children:e.reworkQuantity})}},{title:"Remarks",align:"center",render:function(e){return(0,a.jsx)("span",{children:e.remarks})}},{title:"Edit",align:"center",render:function(t){return(0,a.jsx)(r.vPQ,{style:{cursor:"pointer"},onClick:e(t,"edit")})}}]}},24613:function(e,t,n){n.r(t),n.d(t,{default:function(){return pe}});var r=n(1413),a=n(74165),s=n(15861),o=n(70885),l=n(72791),i=n(60057),c=n(46844),d=(n(78431),n(39126)),u=n(56355),m=n(80184),p=function(e,t,n){return[{title:"Order No",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.order.orderNo})}},{title:"Product Name",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.order.product.productName})}},{title:"Customer",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.order.product.customer.name})}},{title:"Target Qty",align:"Center",render:function(e){return(0,m.jsx)("span",{children:e.quantity})}},{title:"Remarks",align:"left",render:function(e){return(0,m.jsx)("span",{children:e.remarksForProd})}},{title:"Production Entry",align:"center",render:function(n){return(0,m.jsx)(d.GuI,{style:{cursor:"pointer"},onClick:e(n,t[2])})}},{title:"Dispatch",align:"center",render:function(n){return(0,m.jsx)(u.DyX,{style:{cursor:"pointer"},onClick:e(n,t[3])})}},{title:"Inspection Entry",align:"center",render:function(n){return(0,m.jsx)(d.GuI,{style:{cursor:"pointer"},onClick:e(n,t[4])})}}].filter((function(e,t){return-1==n.indexOf(t)}))},f=n(58186),h=(n(43354),n(23118)),y=n(79747);function Z(e){console.log(e)}function x(e,t){var n=t.errors,r=t.setError,a=t.clearErrors;"Admin"===e.firstname?n.firstname||r("firstname",{type:"manual",message:"You cannot use this first name"}):n.firstname&&"manual"===n.firstname.type&&a("firstname")}var g=function(e){return(0,m.jsx)(i.Z,{template:{heading:"Add Today's Plan",fields:[{title:"Date",type:"date",name:"date",contains:"date",validation:"Date is Required",inpprops:{format:"mm/yy"}},{title:"Product",type:"select",name:"product",contains:"Select",options:[{value:"",label:"Select"},{value:1,label:"Rft4243543"},{value:2,label:"PRT43543543"},{value:3,label:"IYT324432543"}]},{title:"Customer",type:"select",name:"outsouredTo",contains:"Select",options:[{value:"",label:"Select"},{value:1,label:"DRDO"},{value:2,label:"ISRO"},{value:3,label:"BHEL"}]},{title:"Quantity",type:"number",name:"Quantity",contains:"number",validation:"Quantity is Required",inpprops:{min:1,step:1}},{title:"Remarks",type:"textarea",name:"remarks",contains:"textarea",inpprops:{maxlength:128,md:6}}]},rowwise:2,validate:x,onSubmit:Z,onCancel:e.onCancel,buttonName:"Add"})},v="dispatch_title__LTuQt",b="dispatch_tableCon__IQ93q",j=n(2144);function S(e,t){var n=t.errors,r=t.setError,a=t.clearErrors;"Admin"===e.firstname?n.firstname||r("firstname",{type:"manual",message:"You cannot use this first name"}):n.firstname&&"manual"===n.firstname.type&&a("firstname")}var I=function(e){var t={fields:[{title:"Date",type:"date",name:"invoiceDate",contains:"date",validation:"Date is Required",inpprops:{format:"dd/mm/yy"}},{title:"Quantity",type:"number",name:"quantity",contains:"number",inpprops:{min:1,step:1,max:e.orderQty}},{title:"Dc No",type:"text",name:"invoiceNo",contains:"text",inpprops:{minlength:3,maxlength:80}},{title:"Vechicle No",type:"text",name:"vehicleDetails",contains:"text",inpprops:{minlength:3,maxlength:80}},{title:"Remarks",type:"textarea",name:"remarks",contains:"textarea",inpprops:{maxlength:128,md:6}},{type:"hidden",name:"orderId",contains:"number",value:e.orderId}]};return(0,m.jsx)(i.Z,{template:t,rowwise:2,validate:S,onSubmit:function(t){e.saveFunction(t)},onCancel:e.onCancel,buttonName:"Add",defaultValues:e.selected})},C=n(23853),k=function(e){return[{title:"Dispatch Date",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.invoiceDate})}},{title:"Quantity",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.quantity})}},{title:"Invoice Details",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.invoiceNo})}},{title:"Vechile Details",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.vehicleDetails})}},{title:"Remarks",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.remarks})}},{title:"Edit",align:"center",render:function(t){return(0,m.jsx)(C.vPQ,{style:{cursor:"pointer"},onClick:e(t,"edit")})}}]},w=n(99355),P=n(21229),N=n(59434),E=n(34476),_=n(4349),F=n(89743),M=n(2677);var V=function(e){var t=(0,P.ZP)({data:[]}),n=t.get,i=t.post,c=t.response,d=(t.loading,t.error,(0,l.useState)([])),u=(0,o.Z)(d,2),p=u[0],f=u[1],Z=(0,N.v9)((function(e){return[e.alertProps.showAlert,e.alertProps.alertMessage,e.alertProps.alertVariant]})),x=(0,o.Z)(Z,3),g=x[0],S=(x[1],x[2],(0,N.v9)((function(e){return[e.modalProps.showModal,e.modalProps.selectedForm,e.modalProps.selectedData]}))),C=(0,o.Z)(S,3),E=(C[0],C[1],C[2],(0,l.useState)(Math.random())),V=(0,o.Z)(E,2),Q=V[0],A=V[1],D=(0,N.I0)(),R=function(e,t){D(_.I.showAlertHandler({showAlert:!g,alertMessage:e,alertVariant:t}))},H=(0,l.useCallback)((0,s.Z)((0,a.Z)().mark((function t(){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.ok,e.selectedItem.product.productId,t.next=4,i(w.ZP+"/dispatchEntry/dispatchEntrys",{orderId:e.selectedItem.orderId,loadStateTime:Date().toLocaleString()});case 4:n=t.sent,f(n||[]);case 6:case"end":return t.stop()}}),t)}))),[n,c]);(0,l.useEffect)((function(){H()}),[Q]);var B=function(){var t=(0,s.Z)((0,a.Z)().mark((function t(n){var r,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.dispatchId?"/dispatchEntry/update":"/dispatchEntry/create",console.log(r),t.next=4,i(w.ZP+r,n);case 4:s=t.sent,console.log(s),1==s.retValues.status?n.dispatchId?(f([s.retValues.dispatch]),A(Math.random()),e.loadStateController(),R(s.retValues.message,"success")):s.retValues.dispatch.dispatchId>0&&(f([s.retValues.dispatch]),R(s.retValues.message,"success"),A(Math.random()),e.loadStateController()):R(s.retValues.message,"danger");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),q=(0,l.useState)({id:"",Month:"",Year:"",Remarks:"",Quantity:""}),T=(0,o.Z)(q,2),G=T[0],Y=T[1],W=(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(j.Z,{body:!0,className:v,children:(0,m.jsxs)(F.Z,{children:[(0,m.jsxs)(M.Z,{style:{backgroundColor:"grey",justifyContent:"left",borderRadius:"5%"},md:2,children:["Stock Qty ",(0,m.jsx)("br",{}),e.selectedItem.fgStock]}),(0,m.jsxs)(M.Z,{md:{span:6,offset:1},children:[" ",(0,m.jsxs)("h4",{children:["Dispatch Details - ",e.selectedItem.product.productName]})," "]})]})})});return(0,m.jsxs)(y.Z,{children:[W,(0,m.jsxs)(y.Z,{children:[(0,m.jsx)(I,{orderQty:e.selectedItem.fgStock,orderId:e.selectedItem.orderId,selected:G,saveFunction:B,onCancel:e.onCancel}),(0,m.jsx)(h.Z,{data:p,cols:k((function(e){return function(){Y((0,r.Z)((0,r.Z)({},G),e))}})),className:b})]})]})},Q=n(30427),A=n(95316),D=function(e,t,n){return[{title:"Process Name",align:"left",render:function(e){return(0,m.jsx)("span",{children:e.process.processName})}},{title:"Production Entry",align:"center",render:function(t){return(0,m.jsxs)(m.Fragment,{children:[" ","Quality"===t.process.proSubCat?"NA":(0,m.jsx)(d.GuI,{style:{cursor:"pointer"},onClick:e(t)})]})}},{title:"Inspection Entry",align:"center",render:function(n){return(0,m.jsx)(d.GuI,{style:{cursor:"pointer"},onClick:e(n,t[0])})}},{title:"Rework Entry",align:"center",render:function(n){return(0,m.jsx)(m.Fragment,{children:"Quality"===n.process.proSubCat?"NA":(0,m.jsx)(d.GuI,{style:{cursor:"pointer"},onClick:e(n,t[1])})})}}].filter((function(e,t){return-1==n.indexOf(t)}))},R=(n(44969),n(42982)),H=function(e){return[{title:"Entry Date",align:"Center",render:function(e){return(0,m.jsx)("span",{children:e.entryDate})}},{title:"Shift",align:"Center",render:function(e){return(0,m.jsx)("span",{children:e.shift})}},{title:"Quantity",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.quantity})}},{title:"Edit",align:"center",render:function(t){return(0,m.jsx)(C.vPQ,{style:{cursor:"pointer"},onClick:e(t,"edit")})}}]};function B(e,t){var n=t.errors,r=t.setError,a=t.clearErrors;"Admin"===e.firstname?n.firstname||r("firstname",{type:"manual",message:"You cannot use this first name"}):n.firstname&&"manual"===n.firstname.type&&a("firstname")}var q=function(e){var t=(0,N.I0)(),n=(0,l.useState)({}),c=(0,o.Z)(n,2),d=(c[0],c[1],(0,l.useState)({stock:0,produced:0})),u=(0,o.Z)(d,2),p=u[0],f=u[1],Z=(0,l.useState)(Math.random()),x=(0,o.Z)(Z,2),g=x[0],v=x[1],b=(0,N.v9)((function(e){return[e.alertProps.showAlert,e.alertProps.alertMessage,e.alertProps.alertVariant]})),S=(0,o.Z)(b,3),I=S[0],C=(S[1],S[2],(0,P.ZP)({data:[]})),k=(C.get,C.post),E=C.response,V=(C.loading,C.error,(0,l.useState)()),A=(0,o.Z)(V,2),D=A[0],R=A[1],q=(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(j.Z,{body:!0,className:Q.Z.title,children:(0,m.jsxs)(F.Z,{children:[(0,m.jsxs)(M.Z,{style:{backgroundColor:"grey",justifyContent:"left",borderRadius:"5%"},md:2,children:["Available Qty ",(0,m.jsx)("br",{})," ",p.stock]}),(0,m.jsxs)(M.Z,{md:{span:6,offset:1},children:[" ",(0,m.jsxs)("h4",{children:["".concat(e.selectedItem.process.processName," -")," ",e.productName]})," "]}),(0,m.jsxs)(M.Z,{style:{backgroundColor:"grey",justifyContent:"right",borderRadius:"5%"},md:{span:2,offset:1},children:["Produced Qty",(0,m.jsx)("br",{})," ",p.produced]})]})})}),T=(0,l.useCallback)((0,s.Z)((0,a.Z)().mark((function t(){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(w.ZP+"/productionEntry/latestEntry",{orderId:e.orderId,prodProcMapId:e.selectedItem.prodProcMapId,loadState:g});case 2:n=t.sent,console.log(n),E.ok&&(n.retValues.latestEntries&&R([n.retValues.latestEntries]),f((function(e){return(0,r.Z)((0,r.Z)({},e),{},{stock:n.retValues.prodStock.stockQuantity?n.retValues.prodStock.stockQuantity:0,produced:n.retValues.prodStock.producedQuantity?n.retValues.prodStock.producedQuantity:0})})));case 5:case"end":return t.stop()}}),t)}))),[k,E,g]);(0,l.useEffect)((function(){T()}),[g]);var G=function(e,n){t(_.I.showAlertHandler({showAlert:!I,alertMessage:e,alertVariant:n}))},Y=function(){var t=(0,s.Z)((0,a.Z)().mark((function t(n){var r,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.entryId?"/productionEntry/update":"/productionEntry/create",console.log(r),t.next=4,k(w.ZP+r,n);case 4:s=t.sent,console.log(s),1==s.retValues.status?(n.entryId||s.retValues.prodEntry.entryId>0)&&(R((function(e){return[s.retValues.prodEntry]})),G(s.retValues.message,"success"),v(Math.random()),e.loadStateController()):(G(s.retValues.message,"danger"),T());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),W={fields:[{title:"Date",type:"date",name:"entryDate",contains:"date",validation:"Date is Required",inpprops:{format:"dd/mm/yy"}},{title:"Shift",type:"select",name:"shift",validationProps:"Please select Shift",contains:"Select",options:[{value:"",label:"Select"},{value:"Shift_A",label:"Shift A"},{value:"Shift_B",label:"Shift B"},{value:"Shift_C",label:"Shift C"}]},{title:"Production Qty",type:"number",name:"quantity",contains:"number",inpprops:{min:1,step:1,max:p.stock}},{type:"hidden",name:"orderId",contains:"number",value:e.orderId},{type:"hidden",name:"prodProcMapId",contains:"number",value:e.selectedItem.prodProcMapId}]},O=(0,l.useState)(),L=(0,o.Z)(O,2),z=L[0],J=L[1];return(0,m.jsxs)(m.Fragment,{children:[q,(0,m.jsx)(i.Z,{template:W,rowwise:3,validate:B,onSubmit:function(e){Y(e)},onCancel:e.onCancel,buttonName:"Add",defaultValues:z}),(0,m.jsx)(y.Z,{children:(0,m.jsx)(h.Z,{cols:H((function(e,t){return function(){"edit"===t&&J(e)}})),data:D})})]})},T=function(e){return[{title:"Entry Date",align:"Center",render:function(e){return(0,m.jsx)("span",{children:e.entryDate})}},{title:"Shift",align:"Center",render:function(e){return(0,m.jsx)("span",{children:e.shift})}},{title:"Heat No",align:"left",render:function(e){return(0,m.jsx)("span",{children:e.heatNo})}},{title:"SerielNo From",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.serielNofrom})}},{title:"SerielNo To",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.serielNoTo})}},{title:"Quantity",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.quantity})}},{title:"Edit",align:"center",render:function(t){return(0,m.jsx)(C.vPQ,{style:{cursor:"pointer"},onClick:e(t,"edit")})}}]};var G=function(e){var t=(0,N.I0)(),n=(0,l.useState)({}),c=(0,o.Z)(n,2),d=(c[0],c[1],(0,N.v9)((function(e){return[e.alertProps.showAlert,e.alertProps.alertMessage,e.alertProps.alertVariant]}))),u=(0,o.Z)(d,3),p=u[0],f=(u[1],u[2],(0,P.ZP)({data:[]})),Z=(f.get,f.post),x=f.response,g=(f.loading,f.error,(0,l.useState)({stock:0,produced:0})),v=(0,o.Z)(g,2),b=v[0],S=v[1],I=(0,l.useState)("Not Available"),C=(0,o.Z)(I,2),k=C[0],E=C[1],V=(0,l.useState)(),A=(0,o.Z)(V,2),D=A[0],R=A[1],H=(0,l.useState)(Math.random()),B=(0,o.Z)(H,2),q=B[0],G=B[1],Y=(0,l.useState)(e.orderQty),W=(0,o.Z)(Y,2),O=W[0],L=W[1],z=(0,l.useCallback)((0,s.Z)((0,a.Z)().mark((function t(){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z(w.ZP+"/castingEntry/latestEntry",{orderId:e.orderId,prodProcMapId:e.selectedItem.prodProcMapId,loadStateid:q});case 2:n=t.sent,console.log((0,r.Z)({},n)),x.ok&&n.retValues.latestEntries&&R([n.retValues.latestEntries]),console.log(n.retValues.prodStock.producedQuantity),S((function(e){return(0,r.Z)((0,r.Z)({},e),{},{stock:n.retValues.prodStock.stockQuantity?n.retValues.prodStock.producedQuantity:0,produced:n.retValues.prodStock.producedQuantity?n.retValues.prodStock.producedQuantity:0})})),L(O);case 8:case"end":return t.stop()}}),t)}))),[Z,x,q]);(0,l.useEffect)((function(){z()}),[z]);var J=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){var r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.entryId?"/castingEntry/update":"/castingEntry/create",console.log(r),e.next=4,Z(w.ZP+r,n);case 4:s=e.sent,console.log(s),1==s.retValues.status?(n.meltingEntryId||s.retValues.prodEntry.entryId>0)&&(R((function(e){return[s.retValues.prodEntry]})),G(Math.random()),console.log(q)):(a=s.retValues.message,o="danger",t(_.I.showAlertHandler({showAlert:!p,alertMessage:a,alertVariant:o})));case 7:case"end":return e.stop()}var a,o}),e)})));return function(t){return e.apply(this,arguments)}}(),K=(0,l.useState)(),U=(0,o.Z)(K,2),X=U[0],$=U[1],ee=(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(j.Z,{body:!0,className:Q.Z.title,children:(0,m.jsxs)(F.Z,{children:[(0,m.jsxs)(M.Z,{md:{span:6,offset:3},children:[" ",(0,m.jsxs)("h4",{children:["Casting Entry - ",e.productName]})," "]}),(0,m.jsxs)(M.Z,{style:{backgroundColor:"grey",justifyContent:"right",borderRadius:"5%"},md:{span:2,offset:1},children:["Produced Qty",(0,m.jsx)("br",{})," ",b.produced]})]})})}),te={fields:[{title:"Date",type:"date",name:"entryDate",contains:"date",validation:"Date is Required",inpprops:{format:"dd/mm/yy"}},{title:"Shift",type:"select",name:"shift",validationProps:"Please select Shift",contains:"Select",options:[{value:"",label:"Select"},{value:"Shift_A",label:"Shift A"},{value:"Shift_B",label:"Shift B"},{value:"Shift_C",label:"Shift C"}]},{title:"Furnance",type:"select",name:"furnace",contains:"Select",options:[{value:"",label:"Select"},{value:"Furnance_1",label:"Furnace 1"},{value:"Furnance_2",label:"Furnace 2"},{value:"Furnance_3",label:"Furnace 3"},{value:"Furnance_4",label:"Furnace 4"},{value:"Furnance_5",label:"Furnace 5"}]},{title:"Heat No",type:"disabled",name:"heatNo",contains:"text",value:k},{title:"Production Qty",type:"number",name:"quantity",contains:"number",inpprops:{min:1,step:1,max:O-b.produced}},{title:"Serial No From",type:"text",name:"serielNofrom",contains:"text",inpprops:{min:3,max:50}},{title:"Serial No To",type:"text",name:"serielNoTo",contains:"text",inpprops:{min:3,max:50}},{type:"hidden",name:"orderId",contains:"number",value:e.orderId},{type:"hidden",name:"prodProcMapId",contains:"number",value:e.selectedItem.prodProcMapId}]};return(0,m.jsxs)(m.Fragment,{children:[ee,(0,m.jsx)(i.Z,{template:te,watchFields:["furnace"],rowwise:3,validate:function(e,t){var n;t.errors,t.setError,t.clearErrors;""!==e[0]&&(n=e[0],(0,s.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n),!n){e.next=6;break}return e.next=4,Z(w.ZP+"/meltEntry/getHeatNo",{furnace:n});case 4:t=e.sent,x.ok?E(t):E("Not Available");case 6:case"end":return e.stop()}}),e)}))))()},onSubmit:function(e){console.log(e),J(e)},onCancel:e.onCancel,buttonName:"Add",defaultValues:X}),(0,m.jsx)(y.Z,{children:(0,m.jsx)(h.Z,{cols:T((function(e,t){return function(){"edit"===t&&$((0,r.Z)({},e))}})),data:D})})]})},Y=function(e){return[{title:"Melt Date",align:"Center",render:function(e){return(0,m.jsx)("span",{children:e.MeltingDate})}},{title:"Shift",align:"Center",render:function(e){return(0,m.jsx)("span",{children:e.shift})}},{title:"Melt No",align:"left",render:function(e){return(0,m.jsx)("span",{children:e.heatNo})}},{title:"Furnance",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.furnace})}},{title:"Alloy Grade(Weight kgs)",align:"center",render:function(e){return(0,m.jsx)("span",{children:"".concat(e.material.materialName," (").concat(e.materialWeight,")")})}},{title:"Runner(kgs)",align:"center",render:function(e){return(0,m.jsx)("span",{children:"".concat(e.runnerWeight)})}},{title:"Total Weight",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.materialWeight+e.runnerWeight})}},{title:"Edit",align:"center",render:function(t){return(0,m.jsx)(C.vPQ,{style:{cursor:"pointer"},onClick:e(t,"edit")})}}]};function W(e,t){var n=t.errors,r=t.setError,a=t.clearErrors;"Admin"===e.firstname?n.firstname||r("firstname",{type:"manual",message:"You cannot use this first name"}):n.firstname&&"manual"===n.firstname.type&&a("firstname")}var O=function(e){var t=(0,l.useState)([]),n=(0,o.Z)(t,2),c=n[0],d=n[1],u=(0,l.useState)(0),p=(0,o.Z)(u,2),f=p[0],Z=(p[1],(0,l.useState)()),x=(0,o.Z)(Z,2),g=x[0],v=x[1],b=(0,N.I0)(),S=(0,P.ZP)({data:[]}),I=S.get,C=S.post,k=S.response,E=(S.loading,S.error,(0,l.useState)({material:[{value:"",label:"Select"}]})),V=(0,o.Z)(E,2),A=V[0],D=V[1],H=(0,l.useState)(Math.random()),B=(0,o.Z)(H,2),q=B[0],T=B[1],G=(0,N.v9)((function(e){return[e.alertProps.showAlert,e.alertProps.alertMessage,e.alertProps.alertVariant]})),O=(0,o.Z)(G,3),L=O[0],z=(O[1],O[2],(0,l.useCallback)((0,s.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(w.ZP+"/material/loadOptions");case 2:t=e.sent,D((0,r.Z)((0,r.Z)({},A),{},{material:[].concat((0,R.Z)(A.material),(0,R.Z)(t))}));case 4:case"end":return e.stop()}}),e)}))),[I,k])),J=(0,l.useCallback)((0,s.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(w.ZP+"/meltEntry/meltEntrys",{id:1,loadState:Date().toLocaleString()});case 2:t=e.sent,k.ok&&d(t);case 4:case"end":return e.stop()}}),e)}))),[I,k]),K=function(e,t){b(_.I.showAlertHandler({showAlert:!L,alertMessage:e,alertVariant:t}))};(0,l.useEffect)((function(){z(),J()}),[q]);var U=(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(j.Z,{body:!0,className:Q.Z.title,children:(0,m.jsx)(F.Z,{children:(0,m.jsxs)(M.Z,{md:{span:6,offset:3},children:[" ",(0,m.jsx)("h4",{children:"Melting Inward Details"})," "]})})})}),X={fields:[{title:"Melt Date",type:"date",name:"MeltingDate",contains:"date",validationProps:"Date is Required",inpprops:{format:"dd/mm/yy"}},{title:"Shift",type:"select",name:"shift",validationProps:"Please select Shift",contains:"Select",options:[{value:"",label:"Select"},{value:"Shift_1",label:"Shift 1"},{value:"Shift_2",label:"Shift 2"},{value:"Shift_3",label:"Shift 3"}]},{title:"Alloy",type:"select",name:"materialId",contains:"Select",options:A.material},{title:"Alloy Wgt",type:"number",name:"materialWeight",contains:"number",inpprops:{min:0}},{title:"Runner Wgt",type:"number",name:"runnerWeight",contains:"number",inpprops:{min:0}},{title:"Furnance",type:"select",name:"furnace",contains:"Select",options:[{value:"",label:"Select"},{value:"Furnance_1",label:"Furnace 1"},{value:"Furnance_2",label:"Furnace 2"},{value:"Furnance_3",label:"Furnace 3"},{value:"Furnance_4",label:"Furnace 4"},{value:"Furnance_5",label:"Furnace 5"}]},{title:"Batch No(Heat Code)",type:"text",name:"heatNo",contains:"text",inpprops:{min:3,max:50}},{type:"hidden",name:"meltingEntryId",contains:"number",value:f}]},$=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.meltingEntryId,n="/meltEntry/create",console.log(n),e.next=4,C(w.ZP+n,t);case 4:r=e.sent,console.log(r),1==r.retValues.status?t.meltingEntryId?(d(c.map((function(e){return e.meltingEntryId===r.retValues.meltEntry.meltingEntryId?r.retValues.meltEntry:e}))),T(Math.random()),K(r.retValues.message,"success")):r.retValues.meltEntry.meltEntryId>0&&(d([r.retValues.meltEntry].concat((0,R.Z)(c))),K(r.retValues.message,"success"),T(Math.random())):(K(r.retValues.message,"danger"),T(Math.random()));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)(m.Fragment,{children:[U,(0,m.jsx)(i.Z,{template:X,rowwise:3,validate:W,onSubmit:function(e){$(e)},onCancel:e.onCancel,buttonName:"Add",defaultValues:g}),(0,m.jsx)(y.Z,{children:(0,m.jsx)(h.Z,{cols:Y((function(e,t){return function(){"edit"===t&&v(e)}})),data:c})})]})},L=n(47084);var z=function(e){var t=(0,l.useState)(),n=(0,o.Z)(t,2),i=(n[0],n[1],(0,l.useState)()),c=(0,o.Z)(i,2),d=c[0],u=c[1],p=((0,N.I0)(),(0,P.ZP)({data:[]})),f=p.get,Z=p.post,x=p.response,g=(p.loading,p.error,(0,N.v9)((function(e){return[e.alertProps.showAlert,e.alertProps.alertMessage,e.alertProps.alertVariant]}))),v=(0,o.Z)(g,3),b=(v[0],v[1],v[2],(0,l.useCallback)((0,s.Z)((0,a.Z)().mark((function t(){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x.ok,e.selectedItem.order.product.productId,t.next=4,Z(w.ZP+"/ppMap/processMaps",{id:e.selectedItem.order.product.productId,loadStateTime:Date().toLocaleString()});case 4:n=t.sent,u(n);case 6:case"end":return t.stop()}}),t)}))),[f,x]));(0,l.useEffect)((function(){b()}),[b]);var S=(0,l.useState)({id:"",Month:"",Year:"",Remarks:"",Quantity:""}),I=(0,o.Z)(S,2),C=(I[0],I[1],(0,l.useState)({showForm:!1,selectedForm:"",title:"",selectedItem:{id:0,productName:"",cusName:"",part:"",quantity:"",cost:""}})),k=(0,o.Z)(C,2),E=k[0],_=k[1],F=function(t){return function(){if(console.log((0,r.Z)({},t)),15===t.process.processId){var n={showForm:!0,selectedForm:(0,m.jsx)(G,{onCancel:M,selectedItem:(0,r.Z)({},t),orderId:e.selectedItem.orderId,loadStateController:e.loadStateController,orderQty:e.selectedItem.order.quantity,productName:e.selectedItem.order.product.productName}),selectedItem:(0,r.Z)({},t),title:""};_((0,r.Z)((0,r.Z)({},E),n))}else if(15!=t.process.processId&"Production"===t.process.proSubCat){var a={showForm:!0,selectedForm:(0,m.jsx)(q,{onCancel:M,selectedItem:(0,r.Z)({},t),orderId:e.selectedItem.order.orderId,loadStateController:e.loadStateController,productName:e.selectedItem.order.product.productName}),selectedItem:(0,r.Z)({},t),title:""};_((0,r.Z)((0,r.Z)({},E),a))}else if("Quality"===t.process.proSubCat){var s={showForm:!0,selectedForm:(0,m.jsx)(L.Z,{onCancel:M,selectedItem:(0,r.Z)({},t),orderId:e.selectedItem.order.orderId,loadStateController:e.loadStateController,productName:e.selectedItem.order.product.productName}),selectedItem:(0,r.Z)({},t)};_((0,r.Z)((0,r.Z)({},E),s))}else if(8==t.id){var o={showForm:!0,selectedForm:(0,m.jsx)(L.Z,{onCancel:M,selectedItem:t.ProcessName,orderId:e.selectedItem.order.orderId,loadStateController:e.loadStateController,productName:e.selectedItem.order.product.productName}),selectedItem:(0,r.Z)({},t),title:""};_((0,r.Z)((0,r.Z)({},E),o))}}},M=function(){_((0,r.Z)((0,r.Z)({},E),{},{showForm:!1,selectedForm:"",title:"",selectedItem:(0,r.Z)((0,r.Z)({},E.selectedItem),{id:0,productName:"",cusName:"",part:"",quantity:"",cost:""})}))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(A.Z,(0,r.Z)((0,r.Z)({className:Q.Z.modal},e),{},{showFormHandler:F,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:E.showForm,onHide:M,children:(0,m.jsx)(A.Z.Body,{children:E.selectedForm})})),(0,m.jsxs)(y.Z,{children:[(0,m.jsxs)(j.Z,{body:!0,className:Q.Z.title,children:[(0,m.jsxs)("h5",{children:["Production Entry For"," "," ",e.selectedItem.order.product.productName]})," "]}),(0,m.jsx)(y.Z,{className:Q.Z.simcard,children:(0,m.jsx)(h.Z,{data:d,cols:D(F,["process","inspection"],[2,3])})})]})]})},J=[{id:1,RmGrade:"RM32454343",Alloy:"60",Runner:"20",Qty:"4 kgs",type:"Ingots",tQty:"80 kgs"},{id:2,RmGrade:"TM3434322",Qty:"2 kgs",Alloy:"30",Runner:"10",type:"Ingots",tQty:"40 kgs"},{id:3,RmGrade:"LM4354545",Qty:"1 kgs",type:"Consumable",tQty:"20 kgs"},{id:4,RmGrade:"YU32454343",Qty:"3 kgs",type:"Consumable",tQty:"60 kgs"},{id:5,RmGrade:"EF32454343",Qty:"2 kgs",type:"Consumable",tQty:"40 kgs"}],K=function(e,t){return[{title:"Raw Material",align:"center",render:function(n){var r=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{style:{cursor:"pointer",color:"blue"},onClick:e(n,t[1]),children:n.RmGrade}),(0,m.jsx)("br",{}),(0,m.jsxs)("p",{children:["Alloy-",n.Alloy," \xa0 Runner-",n.Runner]})]});return(0,m.jsxs)(m.Fragment,{children:[" ","Ingots"=="".concat(n.type)?r:(0,m.jsx)("span",{children:n.RmGrade})]})}},{title:"Type",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.type})}},{title:"Unit Quantity",align:"center",render:function(e){return(0,m.jsx)("span",{children:e.Qty})}},{title:"Today Requiremnet",align:"center",render:function(n){var r=(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("span",{style:{cursor:"pointer",color:"blue"},onClick:e(n,t[2]),children:n.tQty})});return(0,m.jsxs)(m.Fragment,{children:[" ","Ingots"=="".concat(n.type)?r:(0,m.jsx)("span",{children:n.tQty})]})}}]},U="rmentry_tableCon__ajAC0",X="rmentry_btn__swrpy",$="rmentry_buttCon__x2BoY",ee=n(43360);function te(e){console.log(e)}function ne(e,t){var n=t.errors,r=t.setError,a=t.clearErrors;"Admin"===e.firstname?n.firstname||r("firstname",{type:"manual",message:"You cannot use this first name"}):n.firstname&&"manual"===n.firstname.type&&a("firstname")}var re=function(e){return(0,m.jsx)(j.Z,{children:(0,m.jsx)(i.Z,{template:{heading:"Enter Raw Material Details",fields:[{title:"Date",type:"date",name:"date",contains:"date",validation:"Date is Required",dateprops:{format:"dd/mm/yy"}},{title:"Type",type:"select",name:"furnance",contains:"Select",options:[{value:"",label:"Select"},{value:1,label:"Alloy Ingots"},{value:2,label:"Runners"},{value:3,label:"Consumables"},{value:4,label:"GDC General"}]},{title:"Raw Material",type:"select",name:"furnance",contains:"Select",options:[{value:"",label:"Select"},{value:1,label:"Steel grade001"},{value:0,label:"Aluminium grade002"},{value:0,label:"Iron Ore grade001"},{value:0,label:"Potash grade001"},{value:0,label:"Nitro grade001"}]},{title:"Weight",type:"number",name:"Qty1",contains:"number",numprops:{min:.1,step:.5}}]},rowwise:2,validate:ne,onSubmit:te,onCancel:e.onCancel,buttonName:"Add"})})};function ae(e){console.log(e)}function se(e,t){var n=t.errors,r=t.setError,a=t.clearErrors;"Admin"===e.firstname?n.firstname||r("firstname",{type:"manual",message:"You cannot use this first name"}):n.firstname&&"manual"===n.firstname.type&&a("firstname")}var oe=function(e){return(0,m.jsx)(j.Z,{children:(0,m.jsx)(i.Z,{template:{heading:"Enter Alloy/Runner Splitup",fields:[{title:"Alloy Wgt(kgs)",type:"number",name:"Qty1",contains:"number",inpprops:{min:50,step:2}},{title:"Runner Wgt(kgs)",type:"number",name:"Qty1",contains:"number",inpprops:{min:50,step:2}}]},rowwise:2,validate:se,onSubmit:ae,onCancel:e.onCancel,buttonName:"Save"})})};function le(e){console.log(e)}function ie(e,t){var n=t.errors,r=t.setError,a=t.clearErrors;"Admin"===e.firstname?n.firstname||r("firstname",{type:"manual",message:"You cannot use this first name"}):n.firstname&&"manual"===n.firstname.type&&a("firstname")}var ce=function(e){return(0,m.jsx)(j.Z,{children:(0,m.jsx)(i.Z,{template:{heading:"Select Alternate Alloy",fields:[{title:"Alternate Alloys",type:"select",name:"furnance",contains:"Select",options:[{value:"",label:"Select"},{value:1,label:"Steel grade001"},{value:0,label:"Aluminium grade002"},{value:0,label:"Iron Ore grade001"},{value:0,label:"Potash grade001"},{value:0,label:"Nitro grade001"}]}]},rowwise:2,validate:ie,onSubmit:le,onCancel:e.onCancel,buttonName:"Save"})})};var de=function(e){var t=(0,l.useState)({showForm:!1,selectedForm:"",selectedItem:{id:0,productName:"",cusName:"",part:"",quantity:"",cost:""}}),n=(0,o.Z)(t,2),a=n[0],s=n[1],i=function(e,t){return function(){if("RawMaterial"==t){var n={showForm:!0,selectedForm:(0,m.jsx)(re,{onCancel:d,selected:a.selectedItem}),selectedItem:(0,r.Z)({},e)};s((0,r.Z)((0,r.Z)({},a),n))}else if("alternate"==t){var o={showForm:!0,selectedForm:(0,m.jsx)(ce,{onCancel:d,selected:a.selectedItem}),selectedItem:(0,r.Z)({},e)};s((0,r.Z)((0,r.Z)({},a),o))}else if("splitup"==t){var l={showForm:!0,selectedForm:(0,m.jsx)(oe,{onCancel:d,selected:a.selectedItem}),selectedItem:(0,r.Z)({},e)};s((0,r.Z)((0,r.Z)({},a),l))}}},d=function(){s((0,r.Z)((0,r.Z)({},a),{},{showForm:!1,selectedForm:"",selectedItem:(0,r.Z)((0,r.Z)({},a.selectedItem),{id:0,productName:"",cusName:"",part:"",quantity:"",cost:""})}))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(A.Z,{show:a.showForm,onHide:d,children:[(0,m.jsx)(A.Z.Header,{closeButton:!0,children:(0,m.jsx)(A.Z.Title,{})}),(0,m.jsx)(A.Z.Body,{children:a.selectedForm})]}),(0,m.jsxs)(c.Z,{title:"Raw Material Details",buttonName:"Add Material",onHeaderClick:i({},"RawMaterial"),bottonShow:a.showForm,children:[(0,m.jsx)(h.Z,{cols:K(i,["RawMaterial","alternate","splitup"]),data:J,className:U}),(0,m.jsxs)(F.Z,{className:$,children:[(0,m.jsx)(ee.Z,{className:X,children:"Request"}),(0,m.jsx)(ee.Z,{variant:"danger",className:X,onClick:e.onCancel,children:"Cancel"})]})]})]})},ue=(n(82056),{fields:[{title:"Production Date",type:"date",name:"planDate",contains:"date",inpprops:{format:"mm/yy"}}]}),me=["dailyForm","rmRequest","productionEntry","dispatch"];var pe=function(e){var t=(0,N.v9)((function(e){return[e.modalProps.showModal,e.modalProps.selectedForm,e.modalProps.selectedData]})),n=(0,o.Z)(t,3),d=(n[0],n[1],n[2],(0,N.v9)((function(e){return[e.alertProps.showAlert,e.alertProps.alertMessage,e.alertProps.alertVariant]}))),u=(0,o.Z)(d,3),Z=u[0],x=(u[1],u[2],(0,l.useState)(Math.random())),v=(0,o.Z)(x,2),b=v[0],j=v[1],S=(0,l.useState)(),I=(0,o.Z)(S,2),C=I[0],k=I[1],M=(0,N.I0)(),Q=(0,P.ZP)({data:[]}),A=Q.get,D=Q.post,R=Q.response,H=(Q.loading,Q.error,(0,l.useCallback)((0,s.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(w.ZP+"/dailyPlan/listplans",{id:1,loadState:Date().toString()});case 2:t=e.sent,R.ok&&k(t);case 4:case"end":return e.stop()}}),e)}))),[A,R]));(0,l.useEffect)((function(){H()}),[b]);var B=function(e,t){M(_.I.showAlertHandler({showAlert:!Z,alertMessage:e,alertVariant:t}))},q=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.orderId?"/order/update":"/order/create",console.log(n),e.next=4,D(w.ZP+n,t);case 4:r=e.sent,console.log(r),1==r.retValues.status?t.orderId?(H(),M(E.n.hideModalHandler()),B(r.retValues.message,"success")):r.retValues.order.orderId>0&&(M(E.n.hideModalHandler()),B(r.retValues.message,"success"),H()):(M(E.n.hideModalHandler()),B(r.retValues.message,"danger"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(w.ZP+"/dailyPlan/searchPlans",{id:1,planDate:t});case 2:n=e.sent,R.ok&&k(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(e,t){return function(){"dailyForm"==t?M(E.n.showModalHandler({selectedData:(0,r.Z)({},e),selectedForm:(0,m.jsx)(g,{onCancel:function(){return M(E.n.hideModalHandler())},selectedItem:(0,r.Z)({},e),saveFunction:q,loadStateController:Y}),showModal:!0})):"dispatch"==t?M(E.n.showModalHandler({selectedData:(0,r.Z)({},e),selectedForm:(0,m.jsx)(V,{onCancel:function(){return M(E.n.hideModalHandler())},selectedItem:(0,r.Z)({},e),saveFunction:q,loadStateController:Y}),showModal:!0})):"productionEntry"==t?M(E.n.showModalHandler({selectedData:(0,r.Z)({},e),selectedForm:(0,m.jsx)(z,{onCancel:function(){return M(E.n.hideModalHandler())},selectedItem:(0,r.Z)({},e),saveFunction:q,loadStateController:Y}),showModal:!0})):"rmRequest"==t?M(E.n.showModalHandler({selectedData:(0,r.Z)({},e),selectedForm:(0,m.jsx)(de,{onCancel:function(){return M(E.n.hideModalHandler())},selectedItem:(0,r.Z)({},e),saveFunction:q,loadStateContoller:Y}),showModal:!0})):"meltingInward"==t&&M(E.n.showModalHandler({selectedData:(0,r.Z)({},e),selectedForm:(0,m.jsx)(O,{onCancel:function(){return M(E.n.hideModalHandler())},selectedItem:(0,r.Z)({},e),saveFunction:q,loadStateController:Y}),showModal:!0}))}},Y=function(e){j(Math.random())};return(0,m.jsxs)("div",{className:f.Z.container,children:[(0,m.jsx)(c.Z,{title:"Production Entry",buttonName:"Add",onHeaderClick:G({},"dailyForm"),bottonShow:!0,children:(0,m.jsx)(i.Z,{template:ue,rowwise:4,validate:fe,onSubmit:function(e){T(e.planDate)},onCancel:e.onCancel,buttonName:"Search"})}),(0,m.jsxs)(y.Z,{md:12,children:[(0,m.jsxs)(F.Z,{children:[(0,m.jsx)(ee.Z,{className:f.Z.btn,onClick:G({},"rmRequest"),children:"Add Raw Materials"}),(0,m.jsx)(ee.Z,{className:f.Z.btn,onClick:G({},"meltingInward"),children:"Melting Entry"})]}),(0,m.jsx)(h.Z,{cols:p(G,me,[8]),data:C,striped:!0})]})]})};function fe(e,t){var n=t.errors,r=t.setError,a=t.clearErrors;"Admin"===e.firstname?n.firstname||r("firstname",{type:"manual",message:"You cannot use this first name"}):n.firstname&&"manual"===n.firstname.type&&a("firstname")}},43354:function(e,t,n){},30427:function(e,t){t.Z={botton:"dailyentry_botton__Bh7MA",monthlyform:"dailyentry_monthlyform__74loJ",ctitle:"dailyentry_ctitle__arWsJ",title:"dailyentry_title__tgDqV",rwtitle:"dailyentry_rwtitle__wKIzn",rtitle:"dailyentry_rtitle__+0aVf",shRow:"dailyentry_shRow__6xKQF",shCol:"dailyentry_shCol__EXl-l",tableCon:"dailyentry_tableCon__rhqdC",formCon:"dailyentry_formCon__AhDr2",btn:"dailyentry_btn__aB8j3",buttCon:"dailyentry_buttCon__uhCIj",modal:"dailyentry_modal__6QNiC"}},58186:function(e,t){t.Z={container:"productionentry_container__Dihgz",btn:"productionentry_btn__gGv10",title:"productionentry_title__bjcwh"}}}]);
//# sourceMappingURL=613.fea8063e.chunk.js.map